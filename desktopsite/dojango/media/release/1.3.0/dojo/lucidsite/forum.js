/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

dojo.provide("lucidsite.forum");if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.data.util.sorter.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};dojo.data.util.sorter.createSortFunction=function(_4,_5){var _6=[];function _7(_8,_9){return function(_a,_b){var a=_5.getValue(_a,_8);var b=_5.getValue(_b,_8);var _e=null;if(_5.comparatorMap){if(typeof _8!=="string"){_8=_5.getIdentity(_8);}_e=_5.comparatorMap[_8]||dojo.data.util.sorter.basicComparator;}_e=_e||dojo.data.util.sorter.basicComparator;return _9*_e(a,b);};};var _f;for(var i=0;i<_4.length;i++){_f=_4[i];if(_f.attribute){var _11=(_f.descending)?-1:1;_6.push(_7(_f.attribute,_11));}}return function(_12,_13){var i=0;while(i<_6.length){var ret=_6[i++](_12,_13);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojox.data.QueryReadStore"]){dojo._hasResource["dojox.data.QueryReadStore"]=true;dojo.provide("dojox.data.QueryReadStore");dojo.declare("dojox.data.QueryReadStore",null,{url:"",requestMethod:"get",_className:"dojox.data.QueryReadStore",_items:[],_lastServerQuery:null,_numRows:-1,lastRequestHash:null,doClientPaging:false,doClientSorting:false,_itemsByIdentity:null,_identifier:null,_features:{"dojo.data.api.Read":true,"dojo.data.api.Identity":true},_labelAttr:"label",constructor:function(_16){dojo.mixin(this,_16);},getValue:function(_17,_18,_19){this._assertIsItem(_17);if(!dojo.isString(_18)){throw new Error(this._className+".getValue(): Invalid attribute, string expected!");}if(!this.hasAttribute(_17,_18)){if(_19){return _19;}console.log(this._className+".getValue(): Item does not have the attribute '"+_18+"'.");}return _17.i[_18];},getValues:function(_1a,_1b){this._assertIsItem(_1a);var ret=[];if(this.hasAttribute(_1a,_1b)){ret.push(_1a.i[_1b]);}return ret;},getAttributes:function(_1d){this._assertIsItem(_1d);var ret=[];for(var i in _1d.i){ret.push(i);}return ret;},hasAttribute:function(_20,_21){return this.isItem(_20)&&typeof _20.i[_21]!="undefined";},containsValue:function(_22,_23,_24){var _25=this.getValues(_22,_23);var len=_25.length;for(var i=0;i<len;i++){if(_25[i]==_24){return true;}}return false;},isItem:function(_28){if(_28){return typeof _28.r!="undefined"&&_28.r==this;}return false;},isItemLoaded:function(_29){return this.isItem(_29);},loadItem:function(_2a){if(this.isItemLoaded(_2a.item)){return;}},fetch:function(_2b){_2b=_2b||{};if(!_2b.store){_2b.store=this;}var _2c=this;var _2d=function(_2e,_2f){if(_2f.onError){var _30=_2f.scope||dojo.global;_2f.onError.call(_30,_2e,_2f);}};var _31=function(_32,_33,_34){var _35=_33.abort||null;var _36=false;var _37=_33.start?_33.start:0;if(_2c.doClientPaging==false){_37=0;}var _38=_33.count?(_37+_33.count):_32.length;_33.abort=function(){_36=true;if(_35){_35.call(_33);}};var _39=_33.scope||dojo.global;if(!_33.store){_33.store=_2c;}if(_33.onBegin){_33.onBegin.call(_39,_34,_33);}if(_33.sort&&_2c.doClientSorting){_32.sort(dojo.data.util.sorter.createSortFunction(_33.sort,_2c));}if(_33.onItem){for(var i=_37;(i<_32.length)&&(i<_38);++i){var _3b=_32[i];if(!_36){_33.onItem.call(_39,_3b,_33);}}}if(_33.onComplete&&!_36){var _3c=null;if(!_33.onItem){_3c=_32.slice(_37,_38);}_33.onComplete.call(_39,_3c,_33);}};this._fetchItems(_2b,_31,_2d);return _2b;},getFeatures:function(){return this._features;},close:function(_3d){},getLabel:function(_3e){if(this._labelAttr&&this.isItem(_3e)){return this.getValue(_3e,this._labelAttr);}return undefined;},getLabelAttributes:function(_3f){if(this._labelAttr){return [this._labelAttr];}return null;},_xhrFetchHandler:function(_40,_41,_42,_43){_40=this._filterResponse(_40);if(_40.label){this._labelAttr=_40.label;}var _44=_40.numRows||-1;this._items=[];dojo.forEach(_40.items,function(e){this._items.push({i:e,r:this});},this);var _46=_40.identifier;this._itemsByIdentity={};if(_46){this._identifier=_46;var i;for(i=0;i<this._items.length;++i){var _48=this._items[i].i;var _49=_48[_46];if(!this._itemsByIdentity[_49]){this._itemsByIdentity[_49]=_48;}else{throw new Error(this._className+":  The json data as specified by: ["+this.url+"] is malformed.  Items within the list have identifier: ["+_46+"].  Value collided: ["+_49+"]");}}}else{this._identifier=Number;for(i=0;i<this._items.length;++i){this._items[i].n=i;}}_44=this._numRows=(_44===-1)?this._items.length:_44;_42(this._items,_41,_44);this._numRows=_44;},_fetchItems:function(_4a,_4b,_4c){var _4d=_4a.serverQuery||_4a.query||{};if(!this.doClientPaging){_4d.start=_4a.start||0;if(_4a.count){_4d.count=_4a.count;}}if(!this.doClientSorting){if(_4a.sort){var _4e=_4a.sort[0];if(_4e&&_4e.attribute){var _4f=_4e.attribute;if(_4e.descending){_4f="-"+_4f;}_4d.sort=_4f;}}}if(this.doClientPaging&&this._lastServerQuery!==null&&dojo.toJson(_4d)==dojo.toJson(this._lastServerQuery)){this._numRows=(this._numRows===-1)?this._items.length:this._numRows;_4b(this._items,_4a,this._numRows);}else{var _50=this.requestMethod.toLowerCase()=="post"?dojo.xhrPost:dojo.xhrGet;var _51=_50({url:this.url,handleAs:"json-comment-optional",content:_4d});_51.addCallback(dojo.hitch(this,function(_52){this._xhrFetchHandler(_52,_4a,_4b,_4c);}));_51.addErrback(function(_53){_4c(_53,_4a);});this.lastRequestHash=new Date().getTime()+"-"+String(Math.random()).substring(2);this._lastServerQuery=dojo.mixin({},_4d);}},_filterResponse:function(_54){return _54;},_assertIsItem:function(_55){if(!this.isItem(_55)){throw new Error(this._className+": Invalid item argument.");}},_assertIsAttribute:function(_56){if(typeof _56!=="string"){throw new Error(this._className+": Invalid attribute argument ('"+_56+"').");}},fetchItemByIdentity:function(_57){if(this._itemsByIdentity){var _58=this._itemsByIdentity[_57.identity];if(!(_58===undefined)){if(_57.onItem){var _59=_57.scope?_57.scope:dojo.global;_57.onItem.call(_59,{i:_58,r:this});}return;}}var _5a=function(_5b,_5c){var _5d=_57.scope?_57.scope:dojo.global;if(_57.onError){_57.onError.call(_5d,_5b);}};var _5e=function(_5f,_60){var _61=_57.scope?_57.scope:dojo.global;try{var _62=null;if(_5f&&_5f.length==1){_62=_5f[0];}if(_57.onItem){_57.onItem.call(_61,_62);}}catch(error){if(_57.onError){_57.onError.call(_61,error);}}};var _63={serverQuery:{id:_57.identity}};this._fetchItems(_63,_5e,_5a);},getIdentity:function(_64){var _65=null;if(this._identifier===Number){_65=_64.n;}else{_65=_64.i[this._identifier];}return _65;},getIdentityAttributes:function(_66){return [this._identifier];}});}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.i18n.getLocalization=function(_67,_68,_69){_69=dojo.i18n.normalizeLocale(_69);var _6a=_69.split("-");var _6b=[_67,"nls",_68].join(".");var _6c=dojo._loadedModules[_6b];if(_6c){var _6d;for(var i=_6a.length;i>0;i--){var loc=_6a.slice(0,i).join("_");if(_6c[loc]){_6d=_6c[loc];break;}}if(!_6d){_6d=_6c.ROOT;}if(_6d){var _70=function(){};_70.prototype=_6d;return new _70();}}throw new Error("Bundle not found: "+_68+" in "+_67+" , locale="+_69);};dojo.i18n.normalizeLocale=function(_71){var _72=_71?_71.toLowerCase():dojo.locale;if(_72=="root"){_72="ROOT";}return _72;};dojo.i18n._requireLocalization=function(_73,_74,_75,_76){var _77=dojo.i18n.normalizeLocale(_75);var _78=[_73,"nls",_74].join(".");var _79="";if(_76){var _7a=_76.split(",");for(var i=0;i<_7a.length;i++){if(_77["indexOf"](_7a[i])==0){if(_7a[i].length>_79.length){_79=_7a[i];}}}if(!_79){_79="ROOT";}}var _7c=_76?_79:_77;var _7d=dojo._loadedModules[_78];var _7e=null;if(_7d){if(dojo.config.localizationComplete&&_7d._built){return;}var _7f=_7c.replace(/-/g,"_");var _80=_78+"."+_7f;_7e=dojo._loadedModules[_80];}if(!_7e){_7d=dojo["provide"](_78);var _81=dojo._getModuleSymbols(_73);var _82=_81.concat("nls").join("/");var _83;dojo.i18n._searchLocalePath(_7c,_76,function(loc){var _85=loc.replace(/-/g,"_");var _86=_78+"."+_85;var _87=false;if(!dojo._loadedModules[_86]){dojo["provide"](_86);var _88=[_82];if(loc!="ROOT"){_88.push(loc);}_88.push(_74);var _89=_88.join("/")+".js";_87=dojo._loadPath(_89,null,function(_8a){var _8b=function(){};_8b.prototype=_83;_7d[_85]=new _8b();for(var j in _8a){_7d[_85][j]=_8a[j];}});}else{_87=true;}if(_87&&_7d[_85]){_83=_7d[_85];}else{_7d[_85]=_83;}if(_76){return true;}});}if(_76&&_77!=_79){_7d[_77.replace(/-/g,"_")]=_7d[_79.replace(/-/g,"_")];}};(function(){var _8d=dojo.config.extraLocale;if(_8d){if(!_8d instanceof Array){_8d=[_8d];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(m,b,_91,_92){req(m,b,_91,_92);if(_91){return;}for(var i=0;i<_8d.length;i++){req(m,b,_8d[i],_92);}};}})();dojo.i18n._searchLocalePath=function(_94,_95,_96){_94=dojo.i18n.normalizeLocale(_94);var _97=_94.split("-");var _98=[];for(var i=_97.length;i>0;i--){_98.push(_97.slice(0,i).join("-"));}_98.push(false);if(_95){_98.reverse();}for(var j=_98.length-1;j>=0;j--){var loc=_98[j]||"ROOT";var _9c=_96(loc);if(_9c){break;}}};dojo.i18n._preloadLocalizations=function(_9d,_9e){function _9f(_a0){_a0=dojo.i18n.normalizeLocale(_a0);dojo.i18n._searchLocalePath(_a0,true,function(loc){for(var i=0;i<_9e.length;i++){if(_9e[i]==loc){dojo["require"](_9d+"_"+loc);return true;}}return false;});};_9f();var _a3=dojo.config.extraLocale||[];for(var i=0;i<_a3.length;i++){_9f(_a3[i]);}};}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){var _a5=dojo.doc;if(_a5.selection){var s=_a5.selection;if(s.type=="Text"){return !s.createRange().htmlText.length;}else{return !s.createRange().length;}}else{var _a7=dojo.global;var _a8=_a7.getSelection();if(dojo.isString(_a8)){return !_a8;}else{return !_a8||_a8.isCollapsed||!_a8.toString();}}},getBookmark:function(){var _a9,_aa=dojo.doc.selection;if(_aa){var _ab=_aa.createRange();if(_aa.type.toUpperCase()=="CONTROL"){if(_ab.length){_a9=[];var i=0,len=_ab.length;while(i<len){_a9.push(_ab.item(i++));}}else{_a9=null;}}else{_a9=_ab.getBookmark();}}else{if(window.getSelection){_aa=dojo.global.getSelection();if(_aa){_ab=_aa.getRangeAt(0);_a9=_ab.cloneRange();}}else{console.warn("No idea how to store the current selection for this browser!");}}return _a9;},moveToBookmark:function(_ae){var _af=dojo.doc;if(_af.selection){var _b0;if(dojo.isArray(_ae)){_b0=_af.body.createControlRange();dojo.forEach(_ae,function(n){_b0.addElement(n);});}else{_b0=_af.selection.createRange();_b0.moveToBookmark(_ae);}_b0.select();}else{var _b2=dojo.global.getSelection&&dojo.global.getSelection();if(_b2&&_b2.removeAllRanges){_b2.removeAllRanges();_b2.addRange(_ae);}else{console.warn("No idea how to restore selection for this browser!");}}},getFocus:function(_b3,_b4){return {node:_b3&&dojo.isDescendant(dijit._curFocus,_b3.domNode)?dijit._prevFocus:dijit._curFocus,bookmark:!dojo.withGlobal(_b4||dojo.global,dijit.isCollapsed)?dojo.withGlobal(_b4||dojo.global,dijit.getBookmark):null,openedForWindow:_b4};},focus:function(_b5){if(!_b5){return;}var _b6="node" in _b5?_b5.node:_b5,_b7=_b5.bookmark,_b8=_b5.openedForWindow;if(_b6){var _b9=(_b6.tagName.toLowerCase()=="iframe")?_b6.contentWindow:_b6;if(_b9&&_b9.focus){try{_b9.focus();}catch(e){}}dijit._onFocusNode(_b6);}if(_b7&&dojo.withGlobal(_b8||dojo.global,dijit.isCollapsed)){if(_b8){_b8.focus();}try{dojo.withGlobal(_b8||dojo.global,dijit.moveToBookmark,null,[_b7]);}catch(e){}}},_activeStack:[],registerIframe:function(_ba){dijit.registerWin(_ba.contentWindow,_ba);},registerWin:function(_bb,_bc){dojo.connect(_bb.document,"onmousedown",function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);dijit._onTouchNode(_bc||evt.target||evt.srcElement);});var doc=_bb.document;if(doc){if(dojo.isIE){doc.attachEvent("onactivate",function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"){dijit._onFocusNode(_bc||evt.srcElement);}});doc.attachEvent("ondeactivate",function(evt){dijit._onBlurNode(_bc||evt.srcElement);});}else{doc.addEventListener("focus",function(evt){dijit._onFocusNode(_bc||evt.target);},true);doc.addEventListener("blur",function(evt){dijit._onBlurNode(_bc||evt.target);},true);}}doc=null;},_onBlurNode:function(_c3){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(_c4){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _c5=[];try{while(_c4){if(_c4.dijitPopupParent){_c4=dijit.byId(_c4.dijitPopupParent).domNode;}else{if(_c4.tagName&&_c4.tagName.toLowerCase()=="body"){if(_c4===dojo.body()){break;}_c4=dijit.getDocumentWindow(_c4.ownerDocument).frameElement;}else{var id=_c4.getAttribute&&_c4.getAttribute("widgetId");if(id){_c5.unshift(id);}_c4=_c4.parentNode;}}}}catch(e){}dijit._setStack(_c5);},_onFocusNode:function(_c7){if(!_c7){return;}if(_c7.nodeType==9){return;}dijit._onTouchNode(_c7);if(_c7==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=_c7;dojo.publish("focusNode",[_c7]);},_setStack:function(_c8){var _c9=dijit._activeStack;dijit._activeStack=_c8;for(var _ca=0;_ca<Math.min(_c9.length,_c8.length);_ca++){if(_c9[_ca]!=_c8[_ca]){break;}}for(var i=_c9.length-1;i>=_ca;i--){var _cc=dijit.byId(_c9[i]);if(_cc){_cc._focused=false;_cc._hasBeenBlurred=true;if(_cc._onBlur){_cc._onBlur();}if(_cc._setStateClass){_cc._setStateClass();}dojo.publish("widgetBlur",[_cc]);}}for(i=_ca;i<_c8.length;i++){_cc=dijit.byId(_c8[i]);if(_cc){_cc._focused=true;if(_cc._onFocus){_cc._onFocus();}if(_cc._setStateClass){_cc._setStateClass();}dojo.publish("widgetFocus",[_cc]);}}}});dojo.addOnLoad(function(){dijit.registerWin(window);});}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};},add:function(_cd){if(this._hash[_cd.id]){throw new Error("Tried to register widget with id=="+_cd.id+" but that id is already registered");}this._hash[_cd.id]=_cd;},remove:function(id){delete this._hash[id];},forEach:function(_cf){for(var id in this._hash){_cf(this._hash[id]);}},filter:function(_d1){var res=new dijit.WidgetSet();this.forEach(function(_d3){if(_d1(_d3)){res.add(_d3);}});return res;},byId:function(id){return this._hash[id];},byClass:function(cls){return this.filter(function(_d6){return _d6.declaredClass==cls;});}});dijit.registry=new dijit.WidgetSet();dijit._widgetTypeCtr={};dijit.getUniqueId=function(_d7){var id;do{id=_d7+"_"+(_d7 in dijit._widgetTypeCtr?++dijit._widgetTypeCtr[_d7]:dijit._widgetTypeCtr[_d7]=0);}while(dijit.byId(id));return id;};dijit.findWidgets=function(_d9){var _da=[];function _db(_dc){var _dd=dojo.isIE?_dc.children:_dc.childNodes,i=0,_df;while(_df=_dd[i++]){if(_df.nodeType!=1){continue;}var _e0=_df.getAttribute("widgetId");if(_e0){var _e1=dijit.byId(_e0);_da.push(_e1);}else{_db(_df);}}};_db(_d9);return _da;};if(dojo.isIE){dojo.addOnWindowUnload(function(){dojo.forEach(dijit.findWidgets(dojo.body()),function(_e2){if(_e2.destroyRecursive){_e2.destroyRecursive();}else{if(_e2.destroy){_e2.destroy();}}});});}dijit.byId=function(id){return (dojo.isString(id))?dijit.registry.byId(id):id;};dijit.byNode=function(_e4){return dijit.registry.byId(_e4.getAttribute("widgetId"));};dijit.getEnclosingWidget=function(_e5){while(_e5){if(_e5.getAttribute&&_e5.getAttribute("widgetId")){return dijit.registry.byId(_e5.getAttribute("widgetId"));}_e5=_e5.parentNode;}return null;};dijit._tabElements={area:true,button:true,input:true,object:true,select:true,textarea:true};dijit._isElementShown=function(_e6){var _e7=dojo.style(_e6);return (_e7.visibility!="hidden")&&(_e7.visibility!="collapsed")&&(_e7.display!="none")&&(dojo.attr(_e6,"type")!="hidden");};dijit.isTabNavigable=function(_e8){if(dojo.hasAttr(_e8,"disabled")){return false;}var _e9=dojo.hasAttr(_e8,"tabindex");var _ea=dojo.attr(_e8,"tabindex");if(_e9&&_ea>=0){return true;}var _eb=_e8.nodeName.toLowerCase();if(((_eb=="a"&&dojo.hasAttr(_e8,"href"))||dijit._tabElements[_eb])&&(!_e9||_ea>=0)){return true;}return false;};dijit._getTabNavigable=function(_ec){var _ed,_ee,_ef,_f0,_f1,_f2;var _f3=function(_f4){dojo.query("> *",_f4).forEach(function(_f5){var _f6=dijit._isElementShown(_f5);if(_f6&&dijit.isTabNavigable(_f5)){var _f7=dojo.attr(_f5,"tabindex");if(!dojo.hasAttr(_f5,"tabindex")||_f7==0){if(!_ed){_ed=_f5;}_ee=_f5;}else{if(_f7>0){if(!_ef||_f7<_f0){_f0=_f7;_ef=_f5;}if(!_f1||_f7>=_f2){_f2=_f7;_f1=_f5;}}}}if(_f6&&_f5.nodeName.toUpperCase()!="SELECT"){_f3(_f5);}});};if(dijit._isElementShown(_ec)){_f3(_ec);}return {first:_ed,last:_ee,lowest:_ef,highest:_f1};};dijit.getFirstInTabbingOrder=function(_f8){var _f9=dijit._getTabNavigable(dojo.byId(_f8));return _f9.lowest?_f9.lowest:_f9.first;};dijit.getLastInTabbingOrder=function(_fa){var _fb=dijit._getTabNavigable(dojo.byId(_fa));return _fb.last?_fb.last:_fb.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_fc){this.pairs=[];this.returnWrappers=_fc||false;};dojo.extend(dojo.AdapterRegistry,{register:function(_fd,_fe,_ff,_100,_101){this.pairs[((_101)?"unshift":"push")]([_fd,_fe,_ff,_100]);},match:function(){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[1].apply(this,arguments)){if((pair[3])||(this.returnWrappers)){return pair[2];}else{return pair[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(name){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[0]==name){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){var _107=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _108=dojo._docScroll();return {w:_107.clientWidth,h:_107.clientHeight,l:_108.x,t:_108.y};};dijit.placeOnScreen=function(node,pos,_10b,_10c){var _10d=dojo.map(_10b,function(_10e){var c={corner:_10e,pos:{x:pos.x,y:pos.y}};if(_10c){c.pos.x+=_10e.charAt(1)=="L"?_10c.x:-_10c.x;c.pos.y+=_10e.charAt(0)=="T"?_10c.y:-_10c.y;}return c;});return dijit._place(node,_10d);};dijit._place=function(node,_111,_112){var view=dijit.getViewport();if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(node);}var best=null;dojo.some(_111,function(_115){var _116=_115.corner;var pos=_115.pos;if(_112){_112(node,_115.aroundCorner,_116);}var _118=node.style;var _119=_118.display;var _11a=_118.visibility;_118.visibility="hidden";_118.display="";var mb=dojo.marginBox(node);_118.display=_119;_118.visibility=_11a;var _11c=(_116.charAt(1)=="L"?pos.x:Math.max(view.l,pos.x-mb.w)),_11d=(_116.charAt(0)=="T"?pos.y:Math.max(view.t,pos.y-mb.h)),endX=(_116.charAt(1)=="L"?Math.min(view.l+view.w,_11c+mb.w):pos.x),endY=(_116.charAt(0)=="T"?Math.min(view.t+view.h,_11d+mb.h):pos.y),_120=endX-_11c,_121=endY-_11d,_122=(mb.w-_120)+(mb.h-_121);if(best==null||_122<best.overflow){best={corner:_116,aroundCorner:_115.aroundCorner,x:_11c,y:_11d,w:_120,h:_121,overflow:_122};}return !_122;});node.style.left=best.x+"px";node.style.top=best.y+"px";if(best.overflow&&_112){_112(node,best.aroundCorner,best.corner);}return best;};dijit.placeOnScreenAroundNode=function(node,_124,_125,_126){_124=dojo.byId(_124);var _127=_124.style.display;_124.style.display="";var _128=_124.offsetWidth;var _129=_124.offsetHeight;var _12a=dojo.coords(_124,true);_124.style.display=_127;return dijit._placeOnScreenAroundRect(node,_12a.x,_12a.y,_128,_129,_125,_126);};dijit.placeOnScreenAroundRectangle=function(node,_12c,_12d,_12e){return dijit._placeOnScreenAroundRect(node,_12c.x,_12c.y,_12c.width,_12c.height,_12d,_12e);};dijit._placeOnScreenAroundRect=function(node,x,y,_132,_133,_134,_135){var _136=[];for(var _137 in _134){_136.push({aroundCorner:_137,corner:_134[_137],pos:{x:x+(_137.charAt(1)=="L"?0:_132),y:y+(_137.charAt(0)=="T"?0:_133)}});}return dijit._place(node,_136,_135);};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(node,_13d,_13e,_13f){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){if(dojo.isIE&&window!==document.parentWindow&&!doc._parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc._parentWindow||doc.parentWindow||doc.defaultView;};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup=new function(){var _142=[],_143=1000,_144=1;this.prepare=function(node){var s=node.style;s.visibility="hidden";s.position="absolute";s.top="-9999px";if(s.display=="none"){s.display="";}dojo.body().appendChild(node);};this.open=function(args){var _148=args.popup,_149=args.orient||{"BL":"TL","TL":"BL"},_14a=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+_144++);var _14c=dojo.create("div",{id:id,"class":"dijitPopup",style:{zIndex:_143+_142.length,visibility:"hidden"}},dojo.body());dijit.setWaiRole(_14c,"presentation");_14c.style.left=_14c.style.top="0px";if(args.parent){_14c.dijitPopupParent=args.parent.id;}var s=_148.domNode.style;s.display="";s.visibility="";s.position="";s.top="0px";_14c.appendChild(_148.domNode);var _14e=new dijit.BackgroundIframe(_14c);var best=_14a?dijit.placeOnScreenAroundElement(_14c,_14a,_149,_148.orient?dojo.hitch(_148,"orient"):null):dijit.placeOnScreen(_14c,args,_149=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_14c.style.visibility="visible";var _150=[];var _151=function(){for(var pi=_142.length-1;pi>0&&_142[pi].parent===_142[pi-1].widget;pi--){}return _142[pi];};_150.push(dojo.connect(_14c,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&args.onCancel){dojo.stopEvent(evt);args.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _154=_151();if(_154&&_154.onCancel){_154.onCancel();}}}}));if(_148.onCancel){_150.push(dojo.connect(_148,"onCancel",null,args.onCancel));}_150.push(dojo.connect(_148,_148.onExecute?"onExecute":"onChange",null,function(){var _155=_151();if(_155&&_155.onExecute){_155.onExecute();}}));_142.push({wrapper:_14c,iframe:_14e,widget:_148,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_150});if(_148.onOpen){_148.onOpen(best);}return best;};this.close=function(_156){while(dojo.some(_142,function(elem){return elem.widget==_156;})){var top=_142.pop(),_159=top.wrapper,_15a=top.iframe,_15b=top.widget,_15c=top.onClose;if(_15b.onClose){_15b.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(!_15b||!_15b.domNode){return;}this.prepare(_15b.domNode);_15a.destroy();dojo.destroy(_159);if(_15c){_15c();}}};}();dijit._frames=new function(){var _15d=[];this.pop=function(){var _15e;if(_15d.length){_15e=_15d.pop();_15e.style.display="";}else{if(dojo.isIE){var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_15e=dojo.doc.createElement(html);}else{_15e=dojo.create("iframe");_15e.src="javascript:\"\"";_15e.className="dijitBackgroundIframe";}_15e.tabIndex=-1;dojo.body().appendChild(_15e);}return _15e;};this.push=function(_161){_161.style.display="none";if(dojo.isIE){_161.style.removeExpression("width");_161.style.removeExpression("height");}_15d.push(_161);};}();dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(dojo.isIE<7||(dojo.isFF<3&&dojo.hasClass(dojo.body(),"dijit_a11y"))){var _163=dijit._frames.pop();node.appendChild(_163);if(dojo.isIE){_163.style.setExpression("width",dojo._scopeName+".doc.getElementById('"+node.id+"').offsetWidth");_163.style.setExpression("height",dojo._scopeName+".doc.getElementById('"+node.id+"').offsetHeight");}this.iframe=_163;}};dojo.extend(dijit.BackgroundIframe,{destroy:function(){if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(node){try{node=dojo.byId(node);var doc=dojo.doc;var body=dojo.body();var html=body.parentNode;if((!(dojo.isFF>=3||dojo.isIE||dojo.isWebKit)||node==body||node==html)&&(typeof node.scrollIntoView=="function")){node.scrollIntoView(false);return;}var ltr=dojo._isBodyLtr();var _169=dojo.isIE>=8&&!_16a;var rtl=!ltr&&!_169;var _16c=body;var _16a=doc.compatMode=="BackCompat";if(_16a){html._offsetWidth=html._clientWidth=body._offsetWidth=body.clientWidth;html._offsetHeight=html._clientHeight=body._offsetHeight=body.clientHeight;}else{if(dojo.isWebKit){body._offsetWidth=body._clientWidth=html.clientWidth;body._offsetHeight=body._clientHeight=html.clientHeight;}else{_16c=html;}html._offsetHeight=html.clientHeight;html._offsetWidth=html.clientWidth;}function _16d(_16e){var ie=dojo.isIE;return ((ie<=6||(ie>=7&&_16a))?false:(dojo.style(_16e,"position").toLowerCase()=="fixed"));};function _170(_171){var _172=_171.parentNode;var _173=_171.offsetParent;if(_173==null||_16d(_171)){_173=html;_172=(_171==body)?html:null;}_171._offsetParent=_173;_171._parent=_172;var bp=dojo._getBorderExtents(_171);_171._borderStart={H:(_169&&!ltr)?(bp.w-bp.l):bp.l,V:bp.t};_171._borderSize={H:bp.w,V:bp.h};_171._scrolledAmount={H:_171.scrollLeft,V:_171.scrollTop};_171._offsetSize={H:_171._offsetWidth||_171.offsetWidth,V:_171._offsetHeight||_171.offsetHeight};_171._offsetStart={H:(_169&&!ltr)?_173.clientWidth-_171.offsetLeft-_171._offsetSize.H:_171.offsetLeft,V:_171.offsetTop};_171._clientSize={H:_171._clientWidth||_171.clientWidth,V:_171._clientHeight||_171.clientHeight};if(_171!=body&&_171!=html&&_171!=node){for(var dir in _171._offsetSize){var _176=_171._offsetSize[dir]-_171._clientSize[dir]-_171._borderSize[dir];var _177=_171._clientSize[dir]>0&&_176>0;if(_177){_171._offsetSize[dir]-=_176;if(dojo.isIE&&rtl&&dir=="H"){_171._offsetStart[dir]+=_176;}}}}};var _178=node;while(_178!=null){if(_16d(_178)){node.scrollIntoView(false);return;}_170(_178);_178=_178._parent;}if(dojo.isIE&&node._parent){var _179=node._offsetParent;node._offsetStart.H+=_179._borderStart.H;node._offsetStart.V+=_179._borderStart.V;}if(dojo.isIE>=7&&_16c==html&&rtl&&body._offsetStart&&body._offsetStart.H==0){var _17a=html.scrollWidth-html._offsetSize.H;if(_17a>0){body._offsetStart.H=-_17a;}}if(dojo.isIE<=6&&!_16a){html._offsetSize.H+=html._borderSize.H;html._offsetSize.V+=html._borderSize.V;}if(rtl&&body._offsetStart&&_16c==html&&html._scrolledAmount){var ofs=body._offsetStart.H;if(ofs<0){html._scrolledAmount.H+=ofs;body._offsetStart.H=0;}}_178=node;while(_178){var _17c=_178._parent;if(!_17c){break;}if(_17c.tagName=="TD"){var _17d=_17c._parent._parent._parent;if(_17c!=_178._offsetParent&&_17c._offsetParent!=_178._offsetParent){_17c=_17d;}}var _17e=_178._offsetParent==_17c;for(var dir in _178._offsetStart){var _180=dir=="H"?"V":"H";if(rtl&&dir=="H"&&(_17c!=html)&&(_17c!=body)&&(dojo.isIE||dojo.isWebKit)&&_17c._clientSize.H>0&&_17c.scrollWidth>_17c._clientSize.H){var _181=_17c.scrollWidth-_17c._clientSize.H;if(_181>0){_17c._scrolledAmount.H-=_181;}}if(_17c._offsetParent.tagName=="TABLE"){if(dojo.isIE){_17c._offsetStart[dir]-=_17c._offsetParent._borderStart[dir];_17c._borderStart[dir]=_17c._borderSize[dir]=0;}else{_17c._offsetStart[dir]+=_17c._offsetParent._borderStart[dir];}}if(dojo.isIE){_17c._offsetStart[dir]+=_17c._offsetParent._borderStart[dir];}var _182=_178._offsetStart[dir]-_17c._scrolledAmount[dir]-(_17e?0:_17c._offsetStart[dir])-_17c._borderStart[dir];var _183=_182+_178._offsetSize[dir]-_17c._offsetSize[dir]+_17c._borderSize[dir];var _184=(dir=="H")?"scrollLeft":"scrollTop";var _185=dir=="H"&&rtl;var _186=_185?-_183:_182;var _187=_185?-_182:_183;var _188=(_186*_187<=0)?0:Math[(_186<0)?"max":"min"](_186,_187);if(_188!=0){var _189=_17c[_184];_17c[_184]+=(_185)?-_188:_188;var _18a=_17c[_184]-_189;}if(_17e){_178._offsetStart[dir]+=_17c._offsetStart[dir];}_178._offsetStart[dir]-=_17c[_184];}_178._parent=_17c._parent;_178._offsetParent=_17c._offsetParent;}_17c=node;var next;while(_17c&&_17c.removeAttribute){next=_17c.parentNode;_17c.removeAttribute("_offsetParent");_17c.removeAttribute("_parent");_17c=next;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}};}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");(function(){var d=dojo,html=d.doc.documentElement,ie=d.isIE,_18f=d.isOpera,maj=Math.floor,ff=d.isFF,_192=d.boxModel.replace(/-/,""),_193={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_iequirks:ie&&d.isQuirks,dj_opera:_18f,dj_opera8:maj(_18f)==8,dj_opera9:maj(_18f)==9,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_gecko:d.isMozilla,dj_ff2:maj(ff)==2,dj_ff3:maj(ff)==3};_193["dj_"+_192]=true;for(var p in _193){if(_193[p]){if(html.className){html.className+=" "+p;}else{html.className=p;}}}dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){html.className+=" dijitRtl";for(var p in _193){if(_193[p]){html.className+=" "+p+"-rtl";}}}});})();}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=(this._currentTimeout<0)?this._initialDelay:((this._subsequentDelay>1)?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay));this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_197,node,_199,obj,_19b,_19c){if(obj!=this._obj){this.stop();this._initialDelay=_19c||500;this._subsequentDelay=_19b||0.9;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_197,_199);this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_19e,_19f,_1a0,_1a1,_1a2){if(_19e.keyCode){_19e.charOrCode=_19e.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_19e.charCode){_19e.charOrCode=String.fromCharCode(_19e.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_19e.charOrCode&&(_19e.ctrlKey===undefined||_19e.ctrlKey==evt.ctrlKey)&&(_19e.altKey===undefined||_19e.altKey==evt.ctrlKey)&&(_19e.shiftKey===undefined||_19e.shiftKey==evt.ctrlKey)){dojo.stopEvent(evt);dijit.typematic.trigger(_19e,_19f,node,_1a0,_19e,_1a1,_1a2);}else{if(dijit.typematic._obj==_19e){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_19e){dijit.typematic.stop();}})];},addMouseListener:function(node,_1a6,_1a7,_1a8,_1a9){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_1a6,node,_1a7,node,_1a8,_1a9);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){dojo.stopEvent(evt);}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_1a6,node,_1a7,node,_1a8,_1a9);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_1b0,_1b1,_1b2,_1b3,_1b4,_1b5,_1b6){return this.addKeyListener(_1b1,_1b2,_1b3,_1b4,_1b5,_1b6).concat(this.addMouseListener(_1b0,_1b3,_1b4,_1b5,_1b6));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _1b9=cs.backgroundImage;var _1ba=(cs.borderTopColor==cs.borderRightColor)||(_1b9!=null&&(_1b9=="none"||_1b9=="url(invalid-url:)"));dojo[_1ba?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{_XhtmlRoles:/banner|contentinfo|definition|main|navigation|search|note|secondary|seealso/,hasWaiRole:function(elem,role){var _1bd=this.getWaiRole(elem);return role?(_1bd.indexOf(role)>-1):(_1bd.length>0);},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace(this._XhtmlRoles,"").replace("wairole:",""));},setWaiRole:function(elem,role){var _1c1=dojo.attr(elem,"role")||"";if(dojo.isFF<3||!this._XhtmlRoles.test(_1c1)){dojo.attr(elem,"role",dojo.isFF<3?"wairole:"+role:role);}else{if((" "+_1c1+" ").indexOf(" "+role+" ")<0){var _1c2=dojo.trim(_1c1.replace(this._XhtmlRoles,""));var _1c3=dojo.trim(_1c1.replace(_1c2,""));dojo.attr(elem,"role",_1c3+(_1c3?" ":"")+role);}}},removeWaiRole:function(elem,role){var _1c6=dojo.attr(elem,"role");if(!_1c6){return;}if(role){var _1c7=dojo.isFF<3?"wairole:"+role:role;var t=dojo.trim((" "+_1c6+" ").replace(" "+_1c7+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_1ca){if(dojo.isFF<3){return elem.hasAttributeNS("http://www.w3.org/2005/07/aaa",_1ca);}return elem.hasAttribute?elem.hasAttribute("aria-"+_1ca):!!elem.getAttribute("aria-"+_1ca);},getWaiState:function(elem,_1cc){if(dojo.isFF<3){return elem.getAttributeNS("http://www.w3.org/2005/07/aaa",_1cc);}return elem.getAttribute("aria-"+_1cc)||"";},setWaiState:function(elem,_1ce,_1cf){if(dojo.isFF<3){elem.setAttributeNS("http://www.w3.org/2005/07/aaa","aaa:"+_1ce,_1cf);}else{elem.setAttribute("aria-"+_1ce,_1cf);}},removeWaiState:function(elem,_1d1){if(dojo.isFF<3){elem.removeAttributeNS("http://www.w3.org/2005/07/aaa",_1d1);}else{elem.removeAttribute("aria-"+_1d1);}}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.require("dijit._base");dojo.connect(dojo,"connect",function(_1d2,_1d3){if(_1d2&&dojo.isFunction(_1d2._onConnect)){_1d2._onConnect(_1d3);}});dijit._connectOnUseEventHandler=function(_1d4){};(function(){var _1d5={};var _1d6=function(dc){if(!_1d5[dc]){var r=[];var _1d9;var _1da=dojo.getObject(dc).prototype;for(var _1db in _1da){if(dojo.isFunction(_1da[_1db])&&(_1d9=_1db.match(/^_set([a-zA-Z]*)Attr$/))&&_1d9[1]){r.push(_1d9[1].charAt(0).toLowerCase()+_1d9[1].substr(1));}}_1d5[dc]=r;}return _1d5[dc]||[];};dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")),postscript:function(_1dc,_1dd){this.create(_1dc,_1dd);},create:function(_1de,_1df){this.srcNodeRef=dojo.byId(_1df);this._connects=[];this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_1de){this.params=_1de;dojo.mixin(this,_1de);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _1e1=this.srcNodeRef;if(_1e1&&_1e1.parentNode){_1e1.parentNode.replaceChild(this.domNode,_1e1);}for(attr in this.params){this._onConnect(attr);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _1e2=function(attr,_1e4){if((_1e4.params&&attr in _1e4.params)||_1e4[attr]){_1e4.attr(attr,_1e4[attr]);}};for(var attr in this.attributeMap){_1e2(attr,this);}dojo.forEach(_1d6(this.declaredClass),function(a){if(!(a in this.attributeMap)){_1e2(a,this);}},this);},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef||dojo.create("div");},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_1e7){this.destroyDescendants(_1e7);this.destroy(_1e7);},destroy:function(_1e8){this.uninitialize();dojo.forEach(this._connects,function(_1e9){dojo.forEach(_1e9,dojo.disconnect);});dojo.forEach(this._supportingWidgets||[],function(w){if(w.destroy){w.destroy();}});this.destroyRendering(_1e8);dijit.registry.remove(this.id);},destroyRendering:function(_1eb){if(this.bgIframe){this.bgIframe.destroy(_1eb);delete this.bgIframe;}if(this.domNode){if(_1eb){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_1eb){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_1ec){dojo.forEach(this.getChildren(),function(_1ed){if(_1ed.destroyRecursive){_1ed.destroyRecursive(_1ec);}});},uninitialize:function(){return false;},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},_onConnect:function(_1ef){if(_1ef in this._deferredConnects){var _1f0=this[this._deferredConnects[_1ef]||"domNode"];this.connect(_1f0,_1ef.toLowerCase(),_1ef);delete this._deferredConnects[_1ef];}},_setClassAttr:function(_1f1){var _1f2=this[this.attributeMap["class"]||"domNode"];dojo.removeClass(_1f2,this["class"]);this["class"]=_1f1;dojo.addClass(_1f2,_1f1);},_setStyleAttr:function(_1f3){var _1f4=this[this.attributeMap["style"]||"domNode"];if(dojo.isObject(_1f3)){dojo.style(_1f4,_1f3);}else{if(_1f4.style.cssText){_1f4.style.cssText+="; "+_1f3;}else{_1f4.style.cssText=_1f3;}}this["style"]=_1f3;},setAttribute:function(attr,_1f6){dojo.deprecated(this.declaredClass+"::setAttribute() is deprecated. Use attr() instead.","","2.0");this.attr(attr,_1f6);},_attrToDom:function(attr,_1f8){var _1f9=this.attributeMap[attr];dojo.forEach(dojo.isArray(_1f9)?_1f9:[_1f9],function(_1fa){var _1fb=this[_1fa.node||_1fa||"domNode"];var type=_1fa.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_1f8)){_1f8=dojo.hitch(this,_1f8);}if(/^on[A-Z][a-zA-Z]*$/.test(attr)){attr=attr.toLowerCase();}dojo.attr(_1fb,attr,_1f8);break;case "innerHTML":_1fb.innerHTML=_1f8;break;case "class":dojo.removeClass(_1fb,this[attr]);dojo.addClass(_1fb,_1f8);break;}},this);this[attr]=_1f8;},attr:function(name,_1fe){var args=arguments.length;if(args==1&&!dojo.isString(name)){for(var x in name){this.attr(x,name[x]);}return this;}var _201=this._getAttrNames(name);if(args==2){if(this[_201.s]){return this[_201.s](_1fe)||this;}else{if(name in this.attributeMap){this._attrToDom(name,_1fe);}this[name]=_1fe;}return this;}else{if(this[_201.g]){return this[_201.g]();}else{return this[name];}}},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"};},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){if(this.containerNode){var list=dojo.query("[widgetId]",this.containerNode);return list.map(dijit.byNode);}else{return [];}},getChildren:function(){if(this.containerNode){return dijit.findWidgets(this.containerNode);}else{return [];}},nodesWithKeyClick:["input","button"],connect:function(obj,_207,_208){var d=dojo;var dc=dojo.connect;var _20b=[];if(_207=="ondijitclick"){if(!this.nodesWithKeyClick[obj.nodeName]){var m=d.hitch(this,_208);_20b.push(dc(obj,"onkeydown",this,function(e){if(!d.isFF&&e.keyCode==d.keys.ENTER&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){return m(e);}else{if(e.keyCode==d.keys.SPACE){d.stopEvent(e);}}}),dc(obj,"onkeyup",this,function(e){if(e.keyCode==d.keys.SPACE&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){return m(e);}}));if(d.isFF){_20b.push(dc(obj,"onkeypress",this,function(e){if(e.keyCode==d.keys.ENTER&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){return m(e);}}));}}_207="onclick";}_20b.push(dc(obj,_207,this,_208));this._connects.push(_20b);return _20b;},disconnect:function(_210){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_210){dojo.forEach(_210,dojo.disconnect);this._connects.splice(i,1);return;}}},isLeftToRight:function(){return dojo._isBodyLtr();},isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},placeAt:function(_212,_213){if(_212["declaredClass"]&&_212["addChild"]){_212.addChild(this,_213);}else{dojo.place(this.domNode,_212,_213);}return this;}});})();}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_stringRepl:function(tmpl){var _215=this.declaredClass,_216=this;return dojo.string.substitute(tmpl,this,function(_217,key){if(key.charAt(0)=="!"){_217=dojo.getObject(key.substr(1),_216);}if(typeof _217=="undefined"){throw new Error(_215+" template:"+key);}if(_217==null){return "";}return key.charAt(0)=="!"?_217:_217.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _219=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_219)){node=dojo._toDom(this._stringRepl(_219));}else{node=_219.cloneNode(true);}this.domNode=node;this._attachTemplateNodes(node);if(this.widgetsInTemplate){var cw=(this._supportingWidgets=dojo.parser.parse(node));this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_21e){var dest=this.containerNode;if(_21e&&dest){while(_21e.hasChildNodes()){dest.appendChild(_21e.firstChild);}}},_attachTemplateNodes:function(_220,_221){_221=_221||function(n,p){return n.getAttribute(p);};var _224=dojo.isArray(_220)?_220:(_220.all||_220.getElementsByTagName("*"));var x=dojo.isArray(_220)?0:-1;for(;x<_224.length;x++){var _226=(x==-1)?_220:_224[x];if(this.widgetsInTemplate&&_221(_226,"dojoType")){continue;}var _227=_221(_226,"dojoAttachPoint");if(_227){var _228,_229=_227.split(/\s*,\s*/);while((_228=_229.shift())){if(dojo.isArray(this[_228])){this[_228].push(_226);}else{this[_228]=_226;}}}var _22a=_221(_226,"dojoAttachEvent");if(_22a){var _22b,_22c=_22a.split(/\s*,\s*/);var trim=dojo.trim;while((_22b=_22c.shift())){if(_22b){var _22e=null;if(_22b.indexOf(":")!=-1){var _22f=_22b.split(":");_22b=trim(_22f[0]);_22e=trim(_22f[1]);}else{_22b=trim(_22b);}if(!_22e){_22e=_22b;}this.connect(_226,_22b,_22e);}}}var role=_221(_226,"waiRole");if(role){dijit.setWaiRole(_226,role);}var _231=_221(_226,"waiState");if(_231){dojo.forEach(_231.split(/\s*,\s*/),function(_232){if(_232.indexOf("-")!=-1){var pair=_232.split("-");dijit.setWaiState(_226,pair[0],pair[1]);}});}}}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_234,_235,_236){var _237=dijit._Templated._templateCache;var key=_235||_234;var _239=_237[key];if(_239){if(!_239.ownerDocument||_239.ownerDocument==dojo.doc){return _239;}dojo.destroy(_239);}if(!_235){_235=dijit._Templated._sanitizeTemplateString(dojo.trim(dojo._getText(_234)));}_235=dojo.string.trim(_235);if(_236||_235.match(/\$\{([^\}]+)\}/g)){return (_237[key]=_235);}else{return (_237[key]=dojo._toDom(_235));}};dijit._Templated._sanitizeTemplateString=function(_23a){if(_23a){_23a=_23a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _23b=_23a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_23b){_23a=_23b[1];}}else{_23a="";}return _23a;};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _23c=dijit._Templated._templateCache;for(var key in _23c){var _23e=_23c[key];if(!isNaN(_23e.nodeType)){dojo.destroy(_23e);}delete _23c[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated],{baseClass:"",name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,readOnly:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{value:"focusNode",disabled:"focusNode",readOnly:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},_setDisabledAttr:function(_23f){this.disabled=_23f;dojo.attr(this.focusNode,"disabled",_23f);dijit.setWaiState(this.focusNode,"disabled",_23f);if(_23f){this._hovering=false;this._active=false;this.focusNode.removeAttribute("tabIndex");}else{this.focusNode.setAttribute("tabIndex",this.tabIndex);}this._setStateClass();},setDisabled:function(_240){dojo.deprecated("setDisabled("+_240+") is deprecated. Use attr('disabled',"+_240+") instead.","","2.0");this.attr("disabled",_240);},_onFocus:function(e){if(this.scrollOnFocus){dijit.scrollIntoView(this.domNode);}this.inherited(arguments);},_onMouse:function(_242){var _243=_242.currentTarget;if(_243&&_243.getAttribute){this.stateModifier=_243.getAttribute("stateModifier")||"";}if(!this.disabled){switch(_242.type){case "mouseenter":case "mouseover":this._hovering=true;this._active=this._mouseDown;break;case "mouseout":case "mouseleave":this._hovering=false;this._active=false;break;case "mousedown":this._active=true;this._mouseDown=true;var _244=this.connect(dojo.body(),"onmouseup",function(){if(this._mouseDown&&this.isFocusable()){this.focus();}this._active=false;this._mouseDown=false;this._setStateClass();this.disconnect(_244);});break;}this._setStateClass();}},isFocusable:function(){return !this.disabled&&!this.readOnly&&this.focusNode&&(dojo.style(this.domNode,"display")!="none");},focus:function(){dijit.focus(this.focusNode);},_setStateClass:function(){var _245=this.baseClass.split(" ");function _246(_247){_245=_245.concat(dojo.map(_245,function(c){return c+_247;}),"dijit"+_247);};if(this.checked){_246("Checked");}if(this.state){_246(this.state);}if(this.selected){_246("Selected");}if(this.disabled){_246("Disabled");}else{if(this.readOnly){_246("ReadOnly");}else{if(this._active){_246(this.stateModifier+"Active");}else{if(this._focused){_246("Focused");}if(this._hovering){_246(this.stateModifier+"Hover");}}}}var tn=this.stateNode||this.domNode,_24a={};dojo.forEach(tn.className.split(" "),function(c){_24a[c]=true;});if("_stateClasses" in this){dojo.forEach(this._stateClasses,function(c){delete _24a[c];});}dojo.forEach(_245,function(c){_24a[c]=true;});var _24e=[];for(var c in _24a){_24e.push(c);}tn.className=_24e.join(" ");this._stateClasses=_245;},compare:function(val1,val2){if((typeof val1=="number")&&(typeof val2=="number")){return (isNaN(val1)&&isNaN(val2))?0:(val1-val2);}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(_252){},_onChangeActive:false,_handleOnChange:function(_253,_254){this._lastValue=_253;if(this._lastValueReported==undefined&&(_254===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_253;}if((this.intermediateChanges||_254||_254===undefined)&&((typeof _253!=typeof this._lastValueReported)||this.compare(_253,this._lastValueReported)!=0)){this._lastValueReported=_253;if(this._onChangeActive){this.onChange(_253);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;this._setStateClass();},destroy:function(){if(this._layoutHackHandle){clearTimeout(this._layoutHackHandle);}this.inherited(arguments);},setValue:function(_255){dojo.deprecated("dijit.form._FormWidget:setValue("+_255+") is deprecated.  Use attr('value',"+_255+") instead.","","2.0");this.attr("value",_255);},getValue:function(){dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value");},_layoutHack:function(){if(dojo.isFF==2&&!this._layoutHackHandle){var node=this.domNode;var old=node.style.opacity;node.style.opacity="0.999";this._layoutHackHandle=setTimeout(dojo.hitch(this,function(){this._layoutHackHandle=null;node.style.opacity=old;}),0);}}});dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:""}),postCreate:function(){if(dojo.isIE||dojo.isWebKit){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._resetValue=this.value;}},_setValueAttr:function(_258,_259){this.value=_258;this._handleOnChange(_258,_259);},_getValueAttr:function(_25a){return this._lastValue;},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==dojo.keys.ESCAPE&&!e.ctrlKey&&!e.altKey){var te;if(dojo.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}else{if(dojo.isWebKit){te=document.createEvent("Events");te.initEvent("keypress",true,true);te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.target.dispatchEvent(te);}}}}});}if(!dojo._hasResource["dijit.form.TextBox"]){dojo._hasResource["dijit.form.TextBox"]=true;dojo.provide("dijit.form.TextBox");dojo.declare("dijit.form.TextBox",dijit.form._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",templateString:"<input class=\"dijit dijitReset dijitLeft\" dojoAttachPoint='textbox,focusNode'\n\tdojoAttachEvent='onmouseenter:_onMouse,onmouseleave:_onMouse'\n\tautocomplete=\"off\" type=\"${type}\" ${nameAttrSetting}\n\t/>\n",baseClass:"dijitTextBox",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{maxLength:"focusNode"}),_getValueAttr:function(){return this.parse(this.attr("displayedValue"),this.constraints);},_setValueAttr:function(_25d,_25e,_25f){var _260;if(_25d!==undefined){_260=this.filter(_25d);if(typeof _25f!="string"){if(_260!==null&&((typeof _260!="number")||!isNaN(_260))){_25f=this.filter(this.format(_260,this.constraints));}else{_25f="";}}}if(_25f!=null&&_25f!=undefined&&((typeof _25f)!="number"||!isNaN(_25f))&&this.textbox.value!=_25f){this.textbox.value=_25f;}this.inherited(arguments,[_260,_25e]);},displayedValue:"",getDisplayedValue:function(){dojo.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use attr('displayedValue') instead.","","2.0");return this.attr("displayedValue");},_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},setDisplayedValue:function(_261){dojo.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use attr('displayedValue', ...) instead.","","2.0");this.attr("displayedValue",_261);},_setDisplayedValueAttr:function(_262){if(_262===null||_262===undefined){_262="";}else{if(typeof _262!="string"){_262=String(_262);}}this.textbox.value=_262;this._setValueAttr(this.attr("value"),undefined,_262);},format:function(_263,_264){return ((_263==null||_263==undefined)?"":(_263.toString?_263.toString():_263));},parse:function(_265,_266){return _265;},_refreshState:function(){},_onInput:function(e){if(e&&e.type&&/key/i.test(e.type)&&e.keyCode){switch(e.keyCode){case dojo.keys.SHIFT:case dojo.keys.ALT:case dojo.keys.CTRL:case dojo.keys.TAB:return;}}if(this.intermediateChanges){var _268=this;setTimeout(function(){_268._handleOnChange(_268.attr("value"),false);},0);}this._refreshState();},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);if(dojo.isMoz||dojo.isOpera){this.connect(this.textbox,"oninput",this._onInput);}else{this.connect(this.textbox,"onkeydown",this._onInput);this.connect(this.textbox,"onkeyup",this._onInput);this.connect(this.textbox,"onpaste",this._onInput);this.connect(this.textbox,"oncut",this._onInput);}this._layoutHack();},filter:function(val){if(val===null){return "";}if(typeof val!="string"){return val;}if(this.trim){val=dojo.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.attr("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);},_onFocus:function(e){if(this.disabled){return;}this._refreshState();this.inherited(arguments);},reset:function(){this.textbox.value="";this.inherited(arguments);}});dijit.selectInputText=function(_26d,_26e,stop){var _270=dojo.global;var _271=dojo.doc;_26d=dojo.byId(_26d);if(isNaN(_26e)){_26e=0;}if(isNaN(stop)){stop=_26d.value?_26d.value.length:0;}_26d.focus();if(_271["selection"]&&dojo.body()["createTextRange"]){if(_26d.createTextRange){var _272=_26d.createTextRange();with(_272){collapse(true);moveStart("character",_26e);moveEnd("character",stop);select();}}}else{if(_270["getSelection"]){var _273=_270.getSelection();if(_26d.setSelectionRange){_26d.setSelectionRange(_26e,stop);}}}};}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:dijit.defaultDuration,templateString:"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\">\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" waiRole='alert'></div>\n\t<div class=\"dijitTooltipConnector\"></div>\n</div>\n",postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});},show:function(_274,_275,_276){if(this.aroundNode&&this.aroundNode===_275){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_274;this.domNode.style.top=(this.domNode.offsetTop+1)+"px";var _277={};var ltr=this.isLeftToRight();dojo.forEach((_276&&_276.length)?_276:dijit.Tooltip.defaultPosition,function(pos){switch(pos){case "after":_277[ltr?"BR":"BL"]=ltr?"BL":"BR";break;case "before":_277[ltr?"BL":"BR"]=ltr?"BR":"BL";break;case "below":_277[ltr?"BL":"BR"]=ltr?"TL":"TR";_277[ltr?"BR":"BL"]=ltr?"TR":"TL";break;case "above":default:_277[ltr?"TL":"TR"]=ltr?"BL":"BR";_277[ltr?"TR":"TL"]=ltr?"BR":"BL";break;}});var pos=dijit.placeOnScreenAroundElement(this.domNode,_275,_277,dojo.hitch(this,"orient"));dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_275;},orient:function(node,_27c,_27d){node.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_27c+"-"+_27d];},_onShow:function(){if(dojo.isIE){this.domNode.style.filter="";}},hide:function(_27e){if(this._onDeck&&this._onDeck[1]==_27e){this._onDeck=null;}else{if(this.aroundNode===_27e){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});dijit.showTooltip=function(_27f,_280,_281){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.show(_27f,_280,_281);};dijit.hideTooltip=function(_282){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.hide(_282);};dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],position:[],_setConnectIdAttr:function(ids){this._connectNodes=[];this.connectId=dojo.isArrayLike(ids)?ids:[ids];dojo.forEach(this.connectId,function(id){var node=dojo.byId(id);if(node){this._connectNodes.push(node);dojo.forEach(["onMouseEnter","onMouseLeave","onFocus","onBlur"],function(_286){this.connect(node,_286.toLowerCase(),"_"+_286);},this);if(dojo.isIE){node.style.zoom=1;}}},this);},postCreate:function(){dojo.addClass(this.domNode,"dijitTooltipData");},_onMouseEnter:function(e){this._onHover(e);},_onMouseLeave:function(e){this._onUnHover(e);},_onFocus:function(e){this._focus=true;this._onHover(e);this.inherited(arguments);},_onBlur:function(e){this._focus=false;this._onUnHover(e);this.inherited(arguments);},_onHover:function(e){if(!this._showTimer){var _28c=e.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(_28c);}),this.showDelay);}},_onUnHover:function(e){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function(_28e){_28e=_28e||this._connectNodes[0];if(!_28e){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}dijit.showTooltip(this.label||this.domNode.innerHTML,_28e,this.position);this._connectNode=_28e;},close:function(){if(this._connectNode){dijit.hideTooltip(this._connectNode);delete this._connectNode;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},uninitialize:function(){this.close();}});dijit.Tooltip.defaultPosition=["after","before"];}if(!dojo._hasResource["dijit.form.ValidationTextBox"]){dojo._hasResource["dijit.form.ValidationTextBox"]=true;dojo.provide("dijit.form.ValidationTextBox");dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{templateString:"<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\" waiRole=\"presentation\"\n\t><div style=\"overflow:hidden;\"\n\t\t><div class=\"dijitReset dijitValidationIcon\"><br></div\n\t\t><div class=\"dijitReset dijitValidationIconText\">&Chi;</div\n\t\t><div class=\"dijitReset dijitInputField\"\n\t\t\t><input class=\"dijitReset\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${nameAttrSetting} type='${type}'\n\t\t/></div\n\t></div\n></div>\n",baseClass:"dijitTextBox",required:false,promptMessage:"",invalidMessage:"$_unset_$",constraints:{},regExp:".*",regExpGen:function(_28f){return this.regExp;},state:"",tooltipPosition:[],_setValueAttr:function(){this.inherited(arguments);this.validate(this._focused);},validator:function(_290,_291){return (new RegExp("^(?:"+this.regExpGen(_291)+")"+(this.required?"":"?")+"$")).test(_290)&&(!this.required||!this._isEmpty(_290))&&(this._isEmpty(_290)||this.parse(_290,_291)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(_292){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_293){return /^\s*$/.test(_293);},getErrorMessage:function(_294){return this.invalidMessage;},getPromptMessage:function(_295){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_296){var _297="";var _298=this.disabled||this.isValid(_296);if(_298){this._maskValidSubsetError=true;}var _299=!_298&&_296&&this._isValidSubset();var _29a=this._isEmpty(this.textbox.value);this.state=(_298||(!this._hasBeenBlurred&&_29a)||_299)?"":"Error";if(this.state=="Error"){this._maskValidSubsetError=false;}this._setStateClass();dijit.setWaiState(this.focusNode,"invalid",_298?"false":"true");if(_296){if(_29a){_297=this.getPromptMessage(true);}if(!_297&&(this.state=="Error"||(_299&&!this._maskValidSubsetError))){_297=this.getErrorMessage(true);}}this.displayMessage(_297);return _298;},_message:"",displayMessage:function(_29b){if(this._message==_29b){return;}this._message=_29b;dijit.hideTooltip(this.domNode);if(_29b){dijit.showTooltip(_29b,this.domNode,this.tooltipPosition);}},_refreshState:function(){this.validate(this._focused);this.inherited(arguments);},constructor:function(){this.constraints={};},postMixInProperties:function(){this.inherited(arguments);this.constraints.locale=this.lang;this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);if(this.invalidMessage=="$_unset_$"){this.invalidMessage=this.messages.invalidMessage;}var p=this.regExpGen(this.constraints);this.regExp=p;var _29d="";if(p!=".*"){this.regExp.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_29d+=re;break;case ")":_29d+="|$)";break;default:_29d+="(?:"+re+"|$)";break;}});}try{"".search(_29d);}catch(e){_29d=this.regExp;console.warn("RegExp error in "+this.declaredClass+": "+this.regExp);}this._partialre="^(?:"+_29d+")$";},_setDisabledAttr:function(_29f){this.inherited(arguments);if(this.valueNode){this.valueNode.disabled=_29f;}this._refreshState();},_setRequiredAttr:function(_2a0){this.required=_2a0;dijit.setWaiState(this.focusNode,"required",_2a0);this._refreshState();},postCreate:function(){if(dojo.isIE){var s=dojo.getComputedStyle(this.focusNode);if(s){var ff=s.fontFamily;if(ff){this.focusNode.style.fontFamily=ff;}}}this.inherited(arguments);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);}});dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},serialize:function(val,_2a4){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.attr("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=dojo.create("input",{style:{display:"none"},type:this.type,name:this.name},this.textbox,"after");},_setDisabledAttr:function(_2a6){this.inherited(arguments);dojo.attr(this.valueNode,"disabled",_2a6);},reset:function(){this.valueNode.value="";this.inherited(arguments);}});dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",rangeCheck:function(_2a7,_2a8){var _2a9="min" in _2a8;var _2aa="max" in _2a8;if(_2a9||_2aa){return (!_2a9||this.compare(_2a7,_2a8.min)>=0)&&(!_2aa||this.compare(_2a7,_2a8.max)<=0);}return true;},isInRange:function(_2ab){return this.rangeCheck(this.attr("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.attr("value");var _2ad=false;var _2ae=false;if("min" in this.constraints){var min=this.constraints.min;val=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min);_2ad=(typeof val=="number")&&val<0;}if("max" in this.constraints){var max=this.constraints.max;val=this.compare(val,((typeof max!="number")||max>0)?max:0);_2ae=(typeof val=="number")&&val>0;}return _2ad||_2ae;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_2b1){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_2b1));},getErrorMessage:function(_2b2){if(dijit.form.RangeBoundTextBox.superclass.isValid.call(this,false)&&!this.isInRange(_2b2)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},postCreate:function(){this.inherited(arguments);if(this.constraints.min!==undefined){dijit.setWaiState(this.focusNode,"valuemin",this.constraints.min);}if(this.constraints.max!==undefined){dijit.setWaiState(this.focusNode,"valuemax",this.constraints.max);}},_setValueAttr:function(_2b3,_2b4){dijit.setWaiState(this.focusNode,"valuenow",_2b3);this.inherited(arguments);}});}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.data.util.simpleFetch.fetch=function(_2b5){_2b5=_2b5||{};if(!_2b5.store){_2b5.store=this;}var self=this;var _2b7=function(_2b8,_2b9){if(_2b9.onError){var _2ba=_2b9.scope||dojo.global;_2b9.onError.call(_2ba,_2b8,_2b9);}};var _2bb=function(_2bc,_2bd){var _2be=_2bd.abort||null;var _2bf=false;var _2c0=_2bd.start?_2bd.start:0;var _2c1=(_2bd.count&&(_2bd.count!==Infinity))?(_2c0+_2bd.count):_2bc.length;_2bd.abort=function(){_2bf=true;if(_2be){_2be.call(_2bd);}};var _2c2=_2bd.scope||dojo.global;if(!_2bd.store){_2bd.store=self;}if(_2bd.onBegin){_2bd.onBegin.call(_2c2,_2bc.length,_2bd);}if(_2bd.sort){_2bc.sort(dojo.data.util.sorter.createSortFunction(_2bd.sort,self));}if(_2bd.onItem){for(var i=_2c0;(i<_2bc.length)&&(i<_2c1);++i){var item=_2bc[i];if(!_2bf){_2bd.onItem.call(_2c2,item,_2bd);}}}if(_2bd.onComplete&&!_2bf){var _2c5=null;if(!_2bd.onItem){_2c5=_2bc.slice(_2c0,_2c1);}_2bd.onComplete.call(_2c2,_2c5,_2bd);}};this._fetchItems(_2b5,_2bb,_2b7);return _2b5;};}if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.data.util.filter.patternToRegExp=function(_2c6,_2c7){var rxp="^";var c=null;for(var i=0;i<_2c6.length;i++){c=_2c6.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_2c6.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_2c7){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.regexp.escapeString=function(str,_2cc){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_2cc&&_2cc.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_2d0){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_2d0);};dojo.regexp.group=function(_2d3,_2d4){return "("+(_2d4?"?:":"")+_2d3+")";};}if(!dojo._hasResource["dijit.form.ComboBox"]){dojo._hasResource["dijit.form.ComboBox"]=true;dojo.provide("dijit.form.ComboBox");dojo.declare("dijit.form.ComboBoxMixin",null,{item:null,pageSize:Infinity,store:null,fetchProperties:{},query:{},autoComplete:true,highlightMatch:"first",searchDelay:100,searchAttr:"name",labelAttr:"",labelType:"text",queryExpr:"${0}*",ignoreCase:true,hasDownArrow:true,templateString:"<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\" dojoAttachPoint=\"comboNode\" waiRole=\"combobox\" tabIndex=\"-1\"\n\t><div style=\"overflow:hidden;\"\n\t\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton'\n\t\t\tdojoAttachPoint=\"downArrowNode\" waiRole=\"presentation\"\n\t\t\tdojoAttachEvent=\"onmousedown:_onArrowMouseDown,onmouseup:_onMouse,onmouseenter:_onMouse,onmouseleave:_onMouse\"\n\t\t\t><div class=\"dijitArrowButtonInner\">&thinsp;</div\n\t\t\t><div class=\"dijitArrowButtonChar\">&#9660;</div\n\t\t></div\n\t\t><div class=\"dijitReset dijitValidationIcon\"><br></div\n\t\t><div class=\"dijitReset dijitValidationIconText\">&Chi;</div\n\t\t><div class=\"dijitReset dijitInputField\"\n\t\t\t><input ${nameAttrSetting} type=\"text\" autocomplete=\"off\" class='dijitReset'\n\t\t\tdojoAttachEvent=\"onkeypress:_onKeyPress,compositionend\"\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" waiRole=\"textbox\" waiState=\"haspopup-true,autocomplete-list\"\n\t\t/></div\n\t></div\n></div>\n",baseClass:"dijitComboBox",_getCaretPos:function(_2d5){var pos=0;if(typeof (_2d5.selectionStart)=="number"){pos=_2d5.selectionStart;}else{if(dojo.isIE){var tr=dojo.doc.selection.createRange().duplicate();var ntr=_2d5.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_2d9,_2da){_2da=parseInt(_2da);dijit.selectInputText(_2d9,_2da,_2da);},_setDisabledAttr:function(_2db){this.inherited(arguments);dijit.setWaiState(this.comboNode,"disabled",_2db);},_onKeyPress:function(evt){var key=evt.charOrCode;if(evt.altKey||(evt.ctrlKey&&(key!="x"&&key!="v"))||evt.key==dojo.keys.SHIFT){return;}var _2de=false;var pw=this._popupWidget;var dk=dojo.keys;var _2e1=null;if(this._isShowingNow){pw.handleKey(key);_2e1=pw.getHighlightedOption();}switch(key){case dk.PAGE_DOWN:case dk.DOWN_ARROW:if(!this._isShowingNow||this._prev_key_esc){this._arrowPressed();_2de=true;}else{if(_2e1){this._announceOption(_2e1);}}dojo.stopEvent(evt);this._prev_key_backspace=false;this._prev_key_esc=false;break;case dk.PAGE_UP:case dk.UP_ARROW:if(this._isShowingNow){this._announceOption(_2e1);}dojo.stopEvent(evt);this._prev_key_backspace=false;this._prev_key_esc=false;break;case dk.ENTER:if(_2e1){if(_2e1==pw.nextButton){this._nextSearch(1);dojo.stopEvent(evt);break;}else{if(_2e1==pw.previousButton){this._nextSearch(-1);dojo.stopEvent(evt);break;}}}else{this._setDisplayedValueAttr(this.attr("displayedValue"),true);}evt.preventDefault();case dk.TAB:var _2e2=this.attr("displayedValue");if(pw&&(_2e2==pw._messages["previousMessage"]||_2e2==pw._messages["nextMessage"])){break;}if(this._isShowingNow){this._prev_key_backspace=false;this._prev_key_esc=false;if(_2e1){pw.attr("value",{target:_2e1});}this._lastQuery=null;this._hideResultList();}break;case " ":this._prev_key_backspace=false;this._prev_key_esc=false;if(_2e1){dojo.stopEvent(evt);this._selectOption();this._hideResultList();}else{_2de=true;}break;case dk.ESCAPE:this._prev_key_backspace=false;this._prev_key_esc=true;if(this._isShowingNow){dojo.stopEvent(evt);this._hideResultList();}break;case dk.DELETE:case dk.BACKSPACE:this._prev_key_esc=false;this._prev_key_backspace=true;_2de=true;break;case dk.RIGHT_ARROW:case dk.LEFT_ARROW:this._prev_key_backspace=false;this._prev_key_esc=false;break;default:this._prev_key_backspace=false;this._prev_key_esc=false;_2de=typeof key=="string";}if(this.searchTimer){clearTimeout(this.searchTimer);}if(_2de){setTimeout(dojo.hitch(this,"_startSearchFromInput"),1);}},_autoCompleteText:function(text){var fn=this.focusNode;dijit.selectInputText(fn,fn.value.length);var _2e5=this.ignoreCase?"toLowerCase":"substr";if(text[_2e5](0).indexOf(this.focusNode.value[_2e5](0))==0){var cpos=this._getCaretPos(fn);if((cpos+1)>fn.value.length){fn.value=text;dijit.selectInputText(fn,cpos);}}else{fn.value=text;dijit.selectInputText(fn);}},_openResultList:function(_2e7,_2e8){if(this.disabled||this.readOnly||(_2e8.query[this.searchAttr]!=this._lastQuery)){return;}this._popupWidget.clearResultList();if(!_2e7.length){this._hideResultList();return;}this.item=null;var _2e9=new String(this.store.getValue(_2e7[0],this.searchAttr));if(_2e9&&this.autoComplete&&!this._prev_key_backspace&&(_2e8.query[this.searchAttr]!="*")){this.item=_2e7[0];this._autoCompleteText(_2e9);}_2e8._maxOptions=this._maxOptions;this._popupWidget.createOptions(_2e7,_2e8,dojo.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if(_2e8.direction){if(1==_2e8.direction){this._popupWidget.highlightFirstOption();}else{if(-1==_2e8.direction){this._popupWidget.highlightLastOption();}}this._announceOption(this._popupWidget.getHighlightedOption());}},_showResultList:function(){this._hideResultList();var _2ea=this._popupWidget.getItems(),_2eb=Math.min(_2ea.length,this.maxListLength);this._arrowPressed();this.displayMessage("");dojo.style(this._popupWidget.domNode,{width:"",height:""});var best=this.open();var _2ed=dojo.marginBox(this._popupWidget.domNode);this._popupWidget.domNode.style.overflow=((best.h==_2ed.h)&&(best.w==_2ed.w))?"hidden":"auto";var _2ee=best.w;if(best.h<this._popupWidget.domNode.scrollHeight){_2ee+=16;}dojo.marginBox(this._popupWidget.domNode,{h:best.h,w:Math.max(_2ee,this.domNode.offsetWidth)});dijit.setWaiState(this.comboNode,"expanded","true");},_hideResultList:function(){if(this._isShowingNow){dijit.popup.close(this._popupWidget);this._arrowIdle();this._isShowingNow=false;dijit.setWaiState(this.comboNode,"expanded","false");dijit.removeWaiState(this.focusNode,"activedescendant");}},_setBlurValue:function(){var _2ef=this.attr("displayedValue");var pw=this._popupWidget;if(pw&&(_2ef==pw._messages["previousMessage"]||_2ef==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{this.attr("displayedValue",_2ef);}},_onBlur:function(){this._hideResultList();this._arrowIdle();this.inherited(arguments);},_announceOption:function(node){if(node==null){return;}var _2f2;if(node==this._popupWidget.nextButton||node==this._popupWidget.previousButton){_2f2=node.innerHTML;}else{_2f2=this.store.getValue(node.item,this.searchAttr);}this.focusNode.value=this.focusNode.value.substring(0,this._getCaretPos(this.focusNode));dijit.setWaiState(this.focusNode,"activedescendant",dojo.attr(node,"id"));this._autoCompleteText(_2f2);},_selectOption:function(evt){var tgt=null;if(!evt){evt={target:this._popupWidget.getHighlightedOption()};}if(!evt.target){this.attr("displayedValue",this.attr("displayedValue"));return;}else{tgt=evt.target;}if(!evt.noHide){this._hideResultList();this._setCaretPos(this.focusNode,this.store.getValue(tgt.item,this.searchAttr).length);}this._doSelect(tgt);},_doSelect:function(tgt){this.item=tgt.item;this.attr("value",this.store.getValue(tgt.item,this.searchAttr));},_onArrowMouseDown:function(evt){if(this.disabled||this.readOnly){return;}dojo.stopEvent(evt);this.focus();if(this._isShowingNow){this._hideResultList();}else{this._startSearch("");}},_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"));},_getQueryString:function(text){return dojo.string.substitute(this.queryExpr,[text]);},_startSearch:function(key){if(!this._popupWidget){var _2f9=this.id+"_popup";this._popupWidget=new dijit.form._ComboBoxMenu({onChange:dojo.hitch(this,this._selectOption),id:_2f9});dijit.removeWaiState(this.focusNode,"activedescendant");dijit.setWaiState(this.textbox,"owns",_2f9);}this.item=null;var _2fa=dojo.clone(this.query);this._lastInput=key;this._lastQuery=_2fa[this.searchAttr]=this._getQueryString(key);this.searchTimer=setTimeout(dojo.hitch(this,function(_2fb,_2fc){var _2fd={queryOptions:{ignoreCase:this.ignoreCase,deep:true},query:_2fb,onBegin:dojo.hitch(this,"_setMaxOptions"),onComplete:dojo.hitch(this,"_openResultList"),onError:function(_2fe){console.error("dijit.form.ComboBox: "+_2fe);dojo.hitch(_2fc,"_hideResultList")();},start:0,count:this.pageSize};dojo.mixin(_2fd,_2fc.fetchProperties);var _2ff=_2fc.store.fetch(_2fd);var _300=function(_301,_302){_301.start+=_301.count*_302;_301.direction=_302;this.store.fetch(_301);};this._nextSearch=this._popupWidget.onPage=dojo.hitch(this,_300,_2ff);},_2fa,this),this.searchDelay);},_setMaxOptions:function(size,_304){this._maxOptions=size;},_getValueField:function(){return this.searchAttr;},_arrowPressed:function(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.addClass(this.downArrowNode,"dijitArrowButtonActive");}},_arrowIdle:function(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.removeClass(this.downArrowNode,"dojoArrowButtonPushed");}},compositionend:function(evt){this._onKeyPress({charCode:-1});},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.hasDownArrow){this.baseClass="dijitTextBox";}if(!this.store){var _306=this.srcNodeRef;this.store=new dijit.form._ComboBoxDataStore(_306);if(!this.value||((typeof _306.selectedIndex=="number")&&_306.selectedIndex.toString()===this.value)){var item=this.store.fetchSelectedItem();if(item){this.value=this.store.getValue(item,this._getValueField());}}}this.inherited(arguments);},postCreate:function(){var _308=dojo.query("label[for=\""+this.id+"\"]");if(_308.length){_308[0].id=(this.id+"_label");var cn=this.comboNode;dijit.setWaiState(cn,"labelledby",_308[0].id);}this.inherited(arguments);},uninitialize:function(){if(this._popupWidget){this._hideResultList();this._popupWidget.destroy();}},_getMenuLabelFromItem:function(item){var _30b=this.store.getValue(item,this.labelAttr||this.searchAttr);var _30c=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_30b=this.doHighlight(_30b,this._escapeHtml(this._lastInput));_30c="html";}return {html:_30c=="html",label:_30b};},doHighlight:function(_30d,find){var _30f="i"+(this.highlightMatch=="all"?"g":"");var _310=this._escapeHtml(_30d);find=dojo.regexp.escapeString(find);var ret=_310.replace(new RegExp("(^|\\s)("+find+")",_30f),"$1<span class=\"dijitComboBoxHighlightMatch\">$2</span>");return ret;},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},open:function(){this._isShowingNow=true;return dijit.popup.open({popup:this._popupWidget,around:this.domNode,parent:this});},reset:function(){this.item=null;this.inherited(arguments);}});dojo.declare("dijit.form._ComboBoxMenu",[dijit._Widget,dijit._Templated],{templateString:"<ul class='dijitReset dijitMenu' dojoAttachEvent='onmousedown:_onMouseDown,onmouseup:_onMouseUp,onmouseover:_onMouseOver,onmouseout:_onMouseOut' tabIndex='-1' style='overflow: \"auto\"; overflow-x: \"hidden\";'>"+"<li class='dijitMenuItem dijitMenuPreviousButton' dojoAttachPoint='previousButton' waiRole='option'></li>"+"<li class='dijitMenuItem dijitMenuNextButton' dojoAttachPoint='nextButton' waiRole='option'></li>"+"</ul>",_messages:null,postMixInProperties:function(){this._messages=dojo.i18n.getLocalization("dijit.form","ComboBox",this.lang);this.inherited(arguments);},_setValueAttr:function(_313){this.value=_313;this.onChange(_313);},onChange:function(_314){},onPage:function(_315){},postCreate:function(){this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];this.inherited(arguments);},onClose:function(){this._blurOptionNode();},_createOption:function(item,_317){var _318=_317(item);var _319=dojo.doc.createElement("li");dijit.setWaiRole(_319,"option");if(_318.html){_319.innerHTML=_318.label;}else{_319.appendChild(dojo.doc.createTextNode(_318.label));}if(_319.innerHTML==""){_319.innerHTML="&nbsp;";}_319.item=item;return _319;},createOptions:function(_31a,_31b,_31c){this.previousButton.style.display=(_31b.start==0)?"none":"";dojo.attr(this.previousButton,"id",this.id+"_prev");dojo.forEach(_31a,function(item,i){var _31f=this._createOption(item,_31c);_31f.className="dijitReset dijitMenuItem";dojo.attr(_31f,"id",this.id+i);this.domNode.insertBefore(_31f,this.nextButton);},this);var _320=false;if(_31b._maxOptions&&_31b._maxOptions!=-1){if((_31b.start+_31b.count)<_31b._maxOptions){_320=true;}else{if((_31b.start+_31b.count)>(_31b._maxOptions-1)){if(_31b.count==_31a.length){_320=true;}}}}else{if(_31b.count==_31a.length){_320=true;}}this.nextButton.style.display=_320?"":"none";dojo.attr(this.nextButton,"id",this.id+"_next");},clearResultList:function(){while(this.domNode.childNodes.length>2){this.domNode.removeChild(this.domNode.childNodes[this.domNode.childNodes.length-2]);}},getItems:function(){return this.domNode.childNodes;},getListLength:function(){return this.domNode.childNodes.length-2;},_onMouseDown:function(evt){dojo.stopEvent(evt);},_onMouseUp:function(evt){if(evt.target===this.domNode){return;}else{if(evt.target==this.previousButton){this.onPage(-1);}else{if(evt.target==this.nextButton){this.onPage(1);}else{var tgt=evt.target;while(!tgt.item){tgt=tgt.parentNode;}this._setValueAttr({target:tgt},true);}}}},_onMouseOver:function(evt){if(evt.target===this.domNode){return;}var tgt=evt.target;if(!(tgt==this.previousButton||tgt==this.nextButton)){while(!tgt.item){tgt=tgt.parentNode;}}this._focusOptionNode(tgt);},_onMouseOut:function(evt){if(evt.target===this.domNode){return;}this._blurOptionNode();},_focusOptionNode:function(node){if(this._highlighted_option!=node){this._blurOptionNode();this._highlighted_option=node;dojo.addClass(this._highlighted_option,"dijitMenuItemSelected");}},_blurOptionNode:function(){if(this._highlighted_option){dojo.removeClass(this._highlighted_option,"dijitMenuItemSelected");this._highlighted_option=null;}},_highlightNextOption:function(){var fc=this.domNode.firstChild;if(!this.getHighlightedOption()){this._focusOptionNode(fc.style.display=="none"?fc.nextSibling:fc);}else{var ns=this._highlighted_option.nextSibling;if(ns&&ns.style.display!="none"){this._focusOptionNode(ns);}}dijit.scrollIntoView(this._highlighted_option);},highlightFirstOption:function(){this._focusOptionNode(this.domNode.firstChild.nextSibling);dijit.scrollIntoView(this._highlighted_option);},highlightLastOption:function(){this._focusOptionNode(this.domNode.lastChild.previousSibling);dijit.scrollIntoView(this._highlighted_option);},_highlightPrevOption:function(){var lc=this.domNode.lastChild;if(!this.getHighlightedOption()){this._focusOptionNode(lc.style.display=="none"?lc.previousSibling:lc);}else{var ps=this._highlighted_option.previousSibling;if(ps&&ps.style.display!="none"){this._focusOptionNode(ps);}}dijit.scrollIntoView(this._highlighted_option);},_page:function(up){var _32d=0;var _32e=this.domNode.scrollTop;var _32f=dojo.style(this.domNode,"height");if(!this.getHighlightedOption()){this._highlightNextOption();}while(_32d<_32f){if(up){if(!this.getHighlightedOption().previousSibling||this._highlighted_option.previousSibling.style.display=="none"){break;}this._highlightPrevOption();}else{if(!this.getHighlightedOption().nextSibling||this._highlighted_option.nextSibling.style.display=="none"){break;}this._highlightNextOption();}var _330=this.domNode.scrollTop;_32d+=(_330-_32e)*(up?-1:1);_32e=_330;}},pageUp:function(){this._page(true);},pageDown:function(){this._page(false);},getHighlightedOption:function(){var ho=this._highlighted_option;return (ho&&ho.parentNode)?ho:null;},handleKey:function(key){switch(key){case dojo.keys.DOWN_ARROW:this._highlightNextOption();break;case dojo.keys.PAGE_DOWN:this.pageDown();break;case dojo.keys.UP_ARROW:this._highlightPrevOption();break;case dojo.keys.PAGE_UP:this.pageUp();break;}}});dojo.declare("dijit.form.ComboBox",[dijit.form.ValidationTextBox,dijit.form.ComboBoxMixin],{_setValueAttr:function(_333,_334){if(!_333){_333="";}dijit.form.ValidationTextBox.prototype._setValueAttr.call(this,_333,_334);}});dojo.declare("dijit.form._ComboBoxDataStore",null,{constructor:function(root){this.root=root;dojo.query("> option",root).forEach(function(node){node.innerHTML=dojo.trim(node.innerHTML);});},getValue:function(item,_338,_339){return (_338=="value")?item.value:(item.innerText||item.textContent||"");},isItemLoaded:function(_33a){return true;},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},_fetchItems:function(args,_33c,_33d){if(!args.query){args.query={};}if(!args.query.name){args.query.name="";}if(!args.queryOptions){args.queryOptions={};}var _33e=dojo.data.util.filter.patternToRegExp(args.query.name,args.queryOptions.ignoreCase),_33f=dojo.query("> option",this.root).filter(function(_340){return (_340.innerText||_340.textContent||"").match(_33e);});if(args.sort){_33f.sort(dojo.data.util.sorter.createSortFunction(args.sort,this));}_33c(_33f,args);},close:function(_341){return;},getLabel:function(item){return item.innerHTML;},getIdentity:function(item){return dojo.attr(item,"value");},fetchItemByIdentity:function(args){var item=dojo.query("option[value='"+args.identity+"']",this.root)[0];args.onItem(item);},fetchSelectedItem:function(){var root=this.root,si=root.selectedIndex;return dojo.query("> option:nth-child("+(si!=-1?si+1:1)+")",root)[0];}});dojo.extend(dijit.form._ComboBoxDataStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dijit.form.FilteringSelect"]){dojo._hasResource["dijit.form.FilteringSelect"]=true;dojo.provide("dijit.form.FilteringSelect");dojo.declare("dijit.form.FilteringSelect",[dijit.form.MappedTextBox,dijit.form.ComboBoxMixin],{_isvalid:true,required:true,_lastDisplayedValue:"",isValid:function(){return this._isvalid||(!this.required&&this.attr("displayedValue")=="");},_callbackSetLabel:function(_348,_349,_34a){if((_349&&_349.query[this.searchAttr]!=this._lastQuery)||(!_349&&_348.length&&this.store.getIdentity(_348[0])!=this._lastQuery)){return;}if(!_348.length){this.valueNode.value="";dijit.form.TextBox.superclass._setValueAttr.call(this,"",_34a||(_34a===undefined&&!this._focused));this._isvalid=false;this.validate(this._focused);this.item=null;}else{this._setValueFromItem(_348[0],_34a);}},_openResultList:function(_34b,_34c){if(_34c.query[this.searchAttr]!=this._lastQuery){return;}this._isvalid=_34b.length!=0;this.validate(true);dijit.form.ComboBoxMixin.prototype._openResultList.apply(this,arguments);},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValue:function(_34d,_34e,_34f){this.valueNode.value=_34d;dijit.form.FilteringSelect.superclass._setValueAttr.call(this,_34d,_34f,_34e);this._lastDisplayedValue=_34e;},_setValueAttr:function(_350,_351){if(!this._onChangeActive){_351=null;}this._lastQuery=_350;if(_350===null||_350===""){this._setDisplayedValueAttr("",_351);return;}var self=this;var _353=function(item,_355){if(item){if(self.store.isItemLoaded(item)){self._callbackSetLabel([item],undefined,_355);}else{self.store.loadItem({item:item,onItem:function(_356,_357){self._callbackSetLabel(_356,_357,_355);}});}}else{self._isvalid=false;self.validate(false);}};this.store.fetchItemByIdentity({identity:_350,onItem:function(item){_353(item,_351);}});},_setValueFromItem:function(item,_35a){this._isvalid=true;this.item=item;this._setValue(this.store.getIdentity(item),this.labelFunc(item,this.store),_35a);},labelFunc:function(item,_35c){return _35c.getValue(item,this.searchAttr);},_doSelect:function(tgt){this._setValueFromItem(tgt.item,true);},_setDisplayedValueAttr:function(_35e,_35f){if(!this._created){_35f=false;}if(this.store){var _360=dojo.clone(this.query);this._lastQuery=_360[this.searchAttr]=_35e.replace(/([\\\*\?])/g,"\\$1");this.textbox.value=_35e;this._lastDisplayedValue=_35e;var _361=this;var _362={query:_360,queryOptions:{ignoreCase:this.ignoreCase,deep:true},onComplete:function(_363,_364){dojo.hitch(_361,"_callbackSetLabel")(_363,_364,_35f);},onError:function(_365){console.error("dijit.form.FilteringSelect: "+_365);dojo.hitch(_361,"_setValue")("",_35e,false);}};dojo.mixin(_362,this.fetchProperties);this.store.fetch(_362);}},postMixInProperties:function(){this.inherited(arguments);this._isvalid=!this.required;},undo:function(){this.attr("displayedValue",this._lastDisplayedValue);}});}if(!dojo._hasResource["lucidsite.forum"]){dojo._hasResource["lucidsite.forum"]=true;dojo.provide("lucidsite.forum");lucidsite.forum={toggle:function(id,type){if(dojo.style(id,"display")=="none"){dojo.style(id,"display",type||"block");}else{dojo.style(id,"display","none");}},togglePost:function(id){this.toggle("snap_post_sum"+id,"inline");this.toggle("snap_post_view"+id);},toggleEdit:function(id){this.toggle("snap_post_text"+id);this.toggle("snap_post_edit"+id);},preview:function(_36a){var _36b=dojo.byId("snap_preview_addpost");var form=dojo.byId(_36a);dojo.xhrPost({url:SNAP_PREFIX+"/rpc/preview/",content:{text:form.post.value},load:function(data){_36b.innerHTML=data.preview;dojo.style(_36b,"display","block");dojo.style(_36b.parentNode,"display","block");},error:function(err){var _36f=document.getElementById("thread_rpc_feedback");_36b.innerHTML="There was an error previewing your post.";dojo.style(_36b,"display","block");},handleAs:"json"});},revision:function(_370,_371){var _372=dojo.byId("snap_post_text"+_370);var _373=dojo.byId("post_revision_links"+_370);dojo.xhrGet({url:SNAP_PREFIX+"/rpc/postrev/",content:{orig:_370,show:_371},load:function(data){_372.innerHTML=data.text;var html="";if(data.prev_id!==""){html+="<a href=\"javascript://\" onClick=\"lucidsite.forum.revision('"+_370+"','"+data.prev_id+"');\">&#171; previous</a>";}html+=" <b style=\"color: #c00;\">This message has been revised</b> ";if(data.rev_id!==""){html+="<a href=\"javascript://\" onClick=\"lucidsite.forum.revision('"+_370+"','"+data.rev_id+"');\">next &#187;</a>";}_373.innerHTML=html;},handleAs:"json"});},toggleVariable:function(_376,_377,oid,_379){var div=dojo.byId(_376+oid);dojo.xhrPost({url:SNAP_PREFIX+"/rpc/action/",content:{action:_376,oclass:_377,oid:oid},load:function(data){div.innerHTML=data.link;dojo.byId(_379).innerHTML="<p class=\"rpc_message\">"+data.msg+"</p>";},error:function(err){div.innerHTML="<b>ERROR</b>";},handleAs:"json"});},addAutoComplete:function(_37d,node){var auto=new dijit.form.FilteringSelect({hasDownArrow:false,store:_37d,pageSize:10});var div=dojo.doc.createElement("div");div.appendChild(auto.domNode);var _381=dojo.doc.createElement("button");_381.innerHTML="x";dojo.connect(_381,"onclick",this,function(){div.parentNode.removeChild(div);auto.destroy();});div.appendChild(_381);dojo.byId(node).appendChild(div);},compileList:function(node,_383){var _384=[];dojo.query(".dijitTextBox",node).forEach(function(wid){try{wid=dijit.byNode(wid);}catch(e){return;}var _386=wid.getDisplayedValue();if(_386&&wid.isValid()){_384.push(_386);}});dojo.byId(_383).value=_384.join(",");},quotePost:function(id){var _388=dojo.query("#add_post_div textarea")[0];var text=dojo.byId("snap_post_text_quote"+id)[dojo.isIE?"innerText":"textContent"].split("\n");var _38a="";for(var i=0;i<text.length;i++){if(text[i].replace(" ","")==""){_38a+="> \n";}else{_38a+="> "+text[i]+"\n";}}if(_388.value==""){_388.value=_38a;}else{_388.value+="\n"+_38a;}_388.focus();}};dojo.forEach(["Csticky","Gsticky","Watch","Close"],function(_38c){lucidsite.forum["set"+_38c]=function(id){this.toggleVariable(_38c.toLowerCase(),"thread",id,"thread_rpc_feedback");};});dojo.forEach(["Censor","Abuse"],function(_38e){lucidsite.forum["set"+_38e]=function(id){this.toggleVariable(_38e.toLowerCase(),"post",id,"post_rpc_feedback"+id);};});}dojo.i18n._preloadLocalizations("lucidsite.nls.forum",["ROOT","ar","ca","cs","da","de","de-de","el","en","en-gb","en-us","es","es-es","fi","fi-fi","fr","fr-fr","he","he-il","hu","it","it-it","ja","ja-jp","ko","ko-kr","nl","nl-nl","no","pl","pt","pt-br","pt-pt","ru","sk","sl","sv","th","tr","xx","zh","zh-cn","zh-tw"]);
