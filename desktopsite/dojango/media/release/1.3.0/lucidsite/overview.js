/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

dojo.provide("lucidsite.overview");if(!dojo._hasResource["dojo.fx.Toggler"]){dojo._hasResource["dojo.fx.Toggler"]=true;dojo.provide("dojo.fx.Toggler");dojo.declare("dojo.fx.Toggler",null,{constructor:function(_1){var _t=this;dojo.mixin(_t,_1);_t.node=_1.node;_t._showArgs=dojo.mixin({},_1);_t._showArgs.node=_t.node;_t._showArgs.duration=_t.showDuration;_t.showAnim=_t.showFunc(_t._showArgs);_t._hideArgs=dojo.mixin({},_1);_t._hideArgs.node=_t.node;_t._hideArgs.duration=_t.hideDuration;_t.hideAnim=_t.hideFunc(_t._hideArgs);dojo.connect(_t.showAnim,"beforeBegin",dojo.hitch(_t.hideAnim,"stop",true));dojo.connect(_t.hideAnim,"beforeBegin",dojo.hitch(_t.showAnim,"stop",true));},node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,show:function(_3){return this.showAnim.play(_3||0);},hide:function(_4){return this.hideAnim.play(_4||0);}});}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");(function(){var d=dojo,_6={_fire:function(_7,_8){if(this[_7]){this[_7].apply(this,_8||[]);}return this;}};var _9=function(_a){this._index=-1;this._animations=_a||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;d.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};d.extend(_9,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){d.disconnect(this._onAnimateCtx);d.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_c,_d){if(!this._current){this._current=this._animations[this._index=0];}if(!_d&&this._current.status()=="playing"){return this;}var _e=d.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_f=d.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_11=d.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);d.disconnect(_e);d.disconnect(_f);d.disconnect(_11);});if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){d.disconnect(this._onEndCtx);}this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=d.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);d.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_15,_16){this.pause();var _17=this.duration*_15;this._current=null;d.some(this._animations,function(a){if(a.duration<=_17){this._current=a;return true;}_17-=a.duration;return false;});if(this._current){this._current.gotoPercent(_17/this._current.duration,_16);}return this;},stop:function(_19){if(this._current){if(_19){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=d.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);d.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}if(this._onEndCtx){d.disconnect(this._onEndCtx);}}});d.extend(_9,_6);dojo.fx.chain=function(_1c){return new _9(_1c);};var _1d=function(_1e){this._animations=_1e||[];this._connects=[];this._finished=0;this.duration=0;d.forEach(_1e,function(a){var _20=a.duration;if(a.delay){_20+=a.delay;}if(this.duration<_20){this.duration=_20;}this._connects.push(d.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new d._Animation({curve:[0,1],duration:this.duration});var _21=this;d.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop"],function(evt){_21._connects.push(d.connect(_21._pseudoAnimation,evt,function(){_21._fire(evt,arguments);}));});};d.extend(_1d,{_doAction:function(_23,_24){d.forEach(this._animations,function(a){a[_23].apply(a,_24);});return this;},_onEnd:function(){if(++this._finished==this._animations.length){this._fire("onEnd");}},_call:function(_26,_27){var t=this._pseudoAnimation;t[_26].apply(t,_27);},play:function(_29,_2a){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_2b,_2c){var ms=this.duration*_2b;d.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_2c);});this._call("gotoPercent",arguments);return this;},stop:function(_2f){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){d.forEach(this._connects,dojo.disconnect);}});d.extend(_1d,_6);dojo.fx.combine=function(_30){return new _1d(_30);};dojo.fx.wipeIn=function(_31){_31.node=d.byId(_31.node);var _32=_31.node,s=_32.style,o;var _35=d.animateProperty(d.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _36=d.style(_32,"height");return Math.max(_36,1);}},end:function(){return _32.scrollHeight;}}}},_31));d.connect(_35,"onEnd",function(){s.height="auto";s.overflow=o;});return _35;};dojo.fx.wipeOut=function(_37){var _38=_37.node=d.byId(_37.node),s=_38.style,o;var _3b=d.animateProperty(d.mixin({properties:{height:{end:1}}},_37));d.connect(_3b,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});d.connect(_3b,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return _3b;};dojo.fx.slideTo=function(_3c){var _3d=_3c.node=d.byId(_3c.node),top=null,_3f=null;var _40=(function(n){return function(){var cs=d.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);_3f=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=d.coords(n,true);top=ret.y;_3f=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=_3f+"px";}};})(_3d);_40();var _45=d.animateProperty(d.mixin({properties:{top:_3c.top||0,left:_3c.left||0}},_3c));d.connect(_45,"beforeBegin",_45,_40);return _45;};})();}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){var _46=dojo.doc;if(_46.selection){var s=_46.selection;if(s.type=="Text"){return !s.createRange().htmlText.length;}else{return !s.createRange().length;}}else{var _48=dojo.global;var _49=_48.getSelection();if(dojo.isString(_49)){return !_49;}else{return !_49||_49.isCollapsed||!_49.toString();}}},getBookmark:function(){var _4a,_4b=dojo.doc.selection;if(_4b){var _4c=_4b.createRange();if(_4b.type.toUpperCase()=="CONTROL"){if(_4c.length){_4a=[];var i=0,len=_4c.length;while(i<len){_4a.push(_4c.item(i++));}}else{_4a=null;}}else{_4a=_4c.getBookmark();}}else{if(window.getSelection){_4b=dojo.global.getSelection();if(_4b){_4c=_4b.getRangeAt(0);_4a=_4c.cloneRange();}}else{console.warn("No idea how to store the current selection for this browser!");}}return _4a;},moveToBookmark:function(_4f){var _50=dojo.doc;if(_50.selection){var _51;if(dojo.isArray(_4f)){_51=_50.body.createControlRange();dojo.forEach(_4f,function(n){_51.addElement(n);});}else{_51=_50.selection.createRange();_51.moveToBookmark(_4f);}_51.select();}else{var _53=dojo.global.getSelection&&dojo.global.getSelection();if(_53&&_53.removeAllRanges){_53.removeAllRanges();_53.addRange(_4f);}else{console.warn("No idea how to restore selection for this browser!");}}},getFocus:function(_54,_55){return {node:_54&&dojo.isDescendant(dijit._curFocus,_54.domNode)?dijit._prevFocus:dijit._curFocus,bookmark:!dojo.withGlobal(_55||dojo.global,dijit.isCollapsed)?dojo.withGlobal(_55||dojo.global,dijit.getBookmark):null,openedForWindow:_55};},focus:function(_56){if(!_56){return;}var _57="node" in _56?_56.node:_56,_58=_56.bookmark,_59=_56.openedForWindow;if(_57){var _5a=(_57.tagName.toLowerCase()=="iframe")?_57.contentWindow:_57;if(_5a&&_5a.focus){try{_5a.focus();}catch(e){}}dijit._onFocusNode(_57);}if(_58&&dojo.withGlobal(_59||dojo.global,dijit.isCollapsed)){if(_59){_59.focus();}try{dojo.withGlobal(_59||dojo.global,dijit.moveToBookmark,null,[_58]);}catch(e){}}},_activeStack:[],registerIframe:function(_5b){dijit.registerWin(_5b.contentWindow,_5b);},registerWin:function(_5c,_5d){dojo.connect(_5c.document,"onmousedown",function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);dijit._onTouchNode(_5d||evt.target||evt.srcElement);});var doc=_5c.document;if(doc){if(dojo.isIE){doc.attachEvent("onactivate",function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"){dijit._onFocusNode(_5d||evt.srcElement);}});doc.attachEvent("ondeactivate",function(evt){dijit._onBlurNode(_5d||evt.srcElement);});}else{doc.addEventListener("focus",function(evt){dijit._onFocusNode(_5d||evt.target);},true);doc.addEventListener("blur",function(evt){dijit._onBlurNode(_5d||evt.target);},true);}}doc=null;},_onBlurNode:function(_64){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(_65){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _66=[];try{while(_65){if(_65.dijitPopupParent){_65=dijit.byId(_65.dijitPopupParent).domNode;}else{if(_65.tagName&&_65.tagName.toLowerCase()=="body"){if(_65===dojo.body()){break;}_65=dijit.getDocumentWindow(_65.ownerDocument).frameElement;}else{var id=_65.getAttribute&&_65.getAttribute("widgetId");if(id){_66.unshift(id);}_65=_65.parentNode;}}}}catch(e){}dijit._setStack(_66);},_onFocusNode:function(_68){if(!_68){return;}if(_68.nodeType==9){return;}dijit._onTouchNode(_68);if(_68==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=_68;dojo.publish("focusNode",[_68]);},_setStack:function(_69){var _6a=dijit._activeStack;dijit._activeStack=_69;for(var _6b=0;_6b<Math.min(_6a.length,_69.length);_6b++){if(_6a[_6b]!=_69[_6b]){break;}}for(var i=_6a.length-1;i>=_6b;i--){var _6d=dijit.byId(_6a[i]);if(_6d){_6d._focused=false;_6d._hasBeenBlurred=true;if(_6d._onBlur){_6d._onBlur();}if(_6d._setStateClass){_6d._setStateClass();}dojo.publish("widgetBlur",[_6d]);}}for(i=_6b;i<_69.length;i++){_6d=dijit.byId(_69[i]);if(_6d){_6d._focused=true;if(_6d._onFocus){_6d._onFocus();}if(_6d._setStateClass){_6d._setStateClass();}dojo.publish("widgetFocus",[_6d]);}}}});dojo.addOnLoad(function(){dijit.registerWin(window);});}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};},add:function(_6e){if(this._hash[_6e.id]){throw new Error("Tried to register widget with id=="+_6e.id+" but that id is already registered");}this._hash[_6e.id]=_6e;},remove:function(id){delete this._hash[id];},forEach:function(_70){for(var id in this._hash){_70(this._hash[id]);}},filter:function(_72){var res=new dijit.WidgetSet();this.forEach(function(_74){if(_72(_74)){res.add(_74);}});return res;},byId:function(id){return this._hash[id];},byClass:function(cls){return this.filter(function(_77){return _77.declaredClass==cls;});}});dijit.registry=new dijit.WidgetSet();dijit._widgetTypeCtr={};dijit.getUniqueId=function(_78){var id;do{id=_78+"_"+(_78 in dijit._widgetTypeCtr?++dijit._widgetTypeCtr[_78]:dijit._widgetTypeCtr[_78]=0);}while(dijit.byId(id));return id;};dijit.findWidgets=function(_7a){var _7b=[];function _7c(_7d){var _7e=dojo.isIE?_7d.children:_7d.childNodes,i=0,_80;while(_80=_7e[i++]){if(_80.nodeType!=1){continue;}var _81=_80.getAttribute("widgetId");if(_81){var _82=dijit.byId(_81);_7b.push(_82);}else{_7c(_80);}}};_7c(_7a);return _7b;};if(dojo.isIE){dojo.addOnWindowUnload(function(){dojo.forEach(dijit.findWidgets(dojo.body()),function(_83){if(_83.destroyRecursive){_83.destroyRecursive();}else{if(_83.destroy){_83.destroy();}}});});}dijit.byId=function(id){return (dojo.isString(id))?dijit.registry.byId(id):id;};dijit.byNode=function(_85){return dijit.registry.byId(_85.getAttribute("widgetId"));};dijit.getEnclosingWidget=function(_86){while(_86){if(_86.getAttribute&&_86.getAttribute("widgetId")){return dijit.registry.byId(_86.getAttribute("widgetId"));}_86=_86.parentNode;}return null;};dijit._tabElements={area:true,button:true,input:true,object:true,select:true,textarea:true};dijit._isElementShown=function(_87){var _88=dojo.style(_87);return (_88.visibility!="hidden")&&(_88.visibility!="collapsed")&&(_88.display!="none")&&(dojo.attr(_87,"type")!="hidden");};dijit.isTabNavigable=function(_89){if(dojo.hasAttr(_89,"disabled")){return false;}var _8a=dojo.hasAttr(_89,"tabindex");var _8b=dojo.attr(_89,"tabindex");if(_8a&&_8b>=0){return true;}var _8c=_89.nodeName.toLowerCase();if(((_8c=="a"&&dojo.hasAttr(_89,"href"))||dijit._tabElements[_8c])&&(!_8a||_8b>=0)){return true;}return false;};dijit._getTabNavigable=function(_8d){var _8e,_8f,_90,_91,_92,_93;var _94=function(_95){dojo.query("> *",_95).forEach(function(_96){var _97=dijit._isElementShown(_96);if(_97&&dijit.isTabNavigable(_96)){var _98=dojo.attr(_96,"tabindex");if(!dojo.hasAttr(_96,"tabindex")||_98==0){if(!_8e){_8e=_96;}_8f=_96;}else{if(_98>0){if(!_90||_98<_91){_91=_98;_90=_96;}if(!_92||_98>=_93){_93=_98;_92=_96;}}}}if(_97&&_96.nodeName.toUpperCase()!="SELECT"){_94(_96);}});};if(dijit._isElementShown(_8d)){_94(_8d);}return {first:_8e,last:_8f,lowest:_90,highest:_92};};dijit.getFirstInTabbingOrder=function(_99){var _9a=dijit._getTabNavigable(dojo.byId(_99));return _9a.lowest?_9a.lowest:_9a.first;};dijit.getLastInTabbingOrder=function(_9b){var _9c=dijit._getTabNavigable(dojo.byId(_9b));return _9c.last?_9c.last:_9c.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_9d){this.pairs=[];this.returnWrappers=_9d||false;};dojo.extend(dojo.AdapterRegistry,{register:function(_9e,_9f,_a0,_a1,_a2){this.pairs[((_a2)?"unshift":"push")]([_9e,_9f,_a0,_a1]);},match:function(){for(var i=0;i<this.pairs.length;i++){var _a4=this.pairs[i];if(_a4[1].apply(this,arguments)){if((_a4[3])||(this.returnWrappers)){return _a4[2];}else{return _a4[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(_a5){for(var i=0;i<this.pairs.length;i++){var _a7=this.pairs[i];if(_a7[0]==_a5){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){var _a8=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _a9=dojo._docScroll();return {w:_a8.clientWidth,h:_a8.clientHeight,l:_a9.x,t:_a9.y};};dijit.placeOnScreen=function(_aa,pos,_ac,_ad){var _ae=dojo.map(_ac,function(_af){var c={corner:_af,pos:{x:pos.x,y:pos.y}};if(_ad){c.pos.x+=_af.charAt(1)=="L"?_ad.x:-_ad.x;c.pos.y+=_af.charAt(0)=="T"?_ad.y:-_ad.y;}return c;});return dijit._place(_aa,_ae);};dijit._place=function(_b1,_b2,_b3){var _b4=dijit.getViewport();if(!_b1.parentNode||String(_b1.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(_b1);}var _b5=null;dojo.some(_b2,function(_b6){var _b7=_b6.corner;var pos=_b6.pos;if(_b3){_b3(_b1,_b6.aroundCorner,_b7);}var _b9=_b1.style;var _ba=_b9.display;var _bb=_b9.visibility;_b9.visibility="hidden";_b9.display="";var mb=dojo.marginBox(_b1);_b9.display=_ba;_b9.visibility=_bb;var _bd=(_b7.charAt(1)=="L"?pos.x:Math.max(_b4.l,pos.x-mb.w)),_be=(_b7.charAt(0)=="T"?pos.y:Math.max(_b4.t,pos.y-mb.h)),_bf=(_b7.charAt(1)=="L"?Math.min(_b4.l+_b4.w,_bd+mb.w):pos.x),_c0=(_b7.charAt(0)=="T"?Math.min(_b4.t+_b4.h,_be+mb.h):pos.y),_c1=_bf-_bd,_c2=_c0-_be,_c3=(mb.w-_c1)+(mb.h-_c2);if(_b5==null||_c3<_b5.overflow){_b5={corner:_b7,aroundCorner:_b6.aroundCorner,x:_bd,y:_be,w:_c1,h:_c2,overflow:_c3};}return !_c3;});_b1.style.left=_b5.x+"px";_b1.style.top=_b5.y+"px";if(_b5.overflow&&_b3){_b3(_b1,_b5.aroundCorner,_b5.corner);}return _b5;};dijit.placeOnScreenAroundNode=function(_c4,_c5,_c6,_c7){_c5=dojo.byId(_c5);var _c8=_c5.style.display;_c5.style.display="";var _c9=_c5.offsetWidth;var _ca=_c5.offsetHeight;var _cb=dojo.coords(_c5,true);_c5.style.display=_c8;return dijit._placeOnScreenAroundRect(_c4,_cb.x,_cb.y,_c9,_ca,_c6,_c7);};dijit.placeOnScreenAroundRectangle=function(_cc,_cd,_ce,_cf){return dijit._placeOnScreenAroundRect(_cc,_cd.x,_cd.y,_cd.width,_cd.height,_ce,_cf);};dijit._placeOnScreenAroundRect=function(_d0,x,y,_d3,_d4,_d5,_d6){var _d7=[];for(var _d8 in _d5){_d7.push({aroundCorner:_d8,corner:_d5[_d8],pos:{x:x+(_d8.charAt(1)=="L"?0:_d3),y:y+(_d8.charAt(0)=="T"?0:_d4)}});}return dijit._place(_d0,_d7,_d6);};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(_dd,_de,_df,_e0){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){if(dojo.isIE&&window!==document.parentWindow&&!doc._parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc._parentWindow||doc.parentWindow||doc.defaultView;};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup=new function(){var _e3=[],_e4=1000,_e5=1;this.prepare=function(_e6){var s=_e6.style;s.visibility="hidden";s.position="absolute";s.top="-9999px";if(s.display=="none"){s.display="";}dojo.body().appendChild(_e6);};this.open=function(_e8){var _e9=_e8.popup,_ea=_e8.orient||{"BL":"TL","TL":"BL"},_eb=_e8.around,id=(_e8.around&&_e8.around.id)?(_e8.around.id+"_dropdown"):("popup_"+_e5++);var _ed=dojo.create("div",{id:id,"class":"dijitPopup",style:{zIndex:_e4+_e3.length,visibility:"hidden"}},dojo.body());dijit.setWaiRole(_ed,"presentation");_ed.style.left=_ed.style.top="0px";if(_e8.parent){_ed.dijitPopupParent=_e8.parent.id;}var s=_e9.domNode.style;s.display="";s.visibility="";s.position="";s.top="0px";_ed.appendChild(_e9.domNode);var _ef=new dijit.BackgroundIframe(_ed);var _f0=_eb?dijit.placeOnScreenAroundElement(_ed,_eb,_ea,_e9.orient?dojo.hitch(_e9,"orient"):null):dijit.placeOnScreen(_ed,_e8,_ea=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],_e8.padding);_ed.style.visibility="visible";var _f1=[];var _f2=function(){for(var pi=_e3.length-1;pi>0&&_e3[pi].parent===_e3[pi-1].widget;pi--){}return _e3[pi];};_f1.push(dojo.connect(_ed,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&_e8.onCancel){dojo.stopEvent(evt);_e8.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _f5=_f2();if(_f5&&_f5.onCancel){_f5.onCancel();}}}}));if(_e9.onCancel){_f1.push(dojo.connect(_e9,"onCancel",null,_e8.onCancel));}_f1.push(dojo.connect(_e9,_e9.onExecute?"onExecute":"onChange",null,function(){var _f6=_f2();if(_f6&&_f6.onExecute){_f6.onExecute();}}));_e3.push({wrapper:_ed,iframe:_ef,widget:_e9,parent:_e8.parent,onExecute:_e8.onExecute,onCancel:_e8.onCancel,onClose:_e8.onClose,handlers:_f1});if(_e9.onOpen){_e9.onOpen(_f0);}return _f0;};this.close=function(_f7){while(dojo.some(_e3,function(_f8){return _f8.widget==_f7;})){var top=_e3.pop(),_fa=top.wrapper,_fb=top.iframe,_fc=top.widget,_fd=top.onClose;if(_fc.onClose){_fc.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(!_fc||!_fc.domNode){return;}this.prepare(_fc.domNode);_fb.destroy();dojo.destroy(_fa);if(_fd){_fd();}}};}();dijit._frames=new function(){var _fe=[];this.pop=function(){var _ff;if(_fe.length){_ff=_fe.pop();_ff.style.display="";}else{if(dojo.isIE){var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_ff=dojo.doc.createElement(html);}else{_ff=dojo.create("iframe");_ff.src="javascript:\"\"";_ff.className="dijitBackgroundIframe";}_ff.tabIndex=-1;dojo.body().appendChild(_ff);}return _ff;};this.push=function(_102){_102.style.display="none";if(dojo.isIE){_102.style.removeExpression("width");_102.style.removeExpression("height");}_fe.push(_102);};}();dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(dojo.isIE<7||(dojo.isFF<3&&dojo.hasClass(dojo.body(),"dijit_a11y"))){var _104=dijit._frames.pop();node.appendChild(_104);if(dojo.isIE){_104.style.setExpression("width",dojo._scopeName+".doc.getElementById('"+node.id+"').offsetWidth");_104.style.setExpression("height",dojo._scopeName+".doc.getElementById('"+node.id+"').offsetHeight");}this.iframe=_104;}};dojo.extend(dijit.BackgroundIframe,{destroy:function(){if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(node){try{node=dojo.byId(node);var doc=dojo.doc;var body=dojo.body();var html=body.parentNode;if((!(dojo.isFF>=3||dojo.isIE||dojo.isWebKit)||node==body||node==html)&&(typeof node.scrollIntoView=="function")){node.scrollIntoView(false);return;}var ltr=dojo._isBodyLtr();var _10a=dojo.isIE>=8&&!_10b;var rtl=!ltr&&!_10a;var _10d=body;var _10b=doc.compatMode=="BackCompat";if(_10b){html._offsetWidth=html._clientWidth=body._offsetWidth=body.clientWidth;html._offsetHeight=html._clientHeight=body._offsetHeight=body.clientHeight;}else{if(dojo.isWebKit){body._offsetWidth=body._clientWidth=html.clientWidth;body._offsetHeight=body._clientHeight=html.clientHeight;}else{_10d=html;}html._offsetHeight=html.clientHeight;html._offsetWidth=html.clientWidth;}function _10e(_10f){var ie=dojo.isIE;return ((ie<=6||(ie>=7&&_10b))?false:(dojo.style(_10f,"position").toLowerCase()=="fixed"));};function _111(_112){var _113=_112.parentNode;var _114=_112.offsetParent;if(_114==null||_10e(_112)){_114=html;_113=(_112==body)?html:null;}_112._offsetParent=_114;_112._parent=_113;var bp=dojo._getBorderExtents(_112);_112._borderStart={H:(_10a&&!ltr)?(bp.w-bp.l):bp.l,V:bp.t};_112._borderSize={H:bp.w,V:bp.h};_112._scrolledAmount={H:_112.scrollLeft,V:_112.scrollTop};_112._offsetSize={H:_112._offsetWidth||_112.offsetWidth,V:_112._offsetHeight||_112.offsetHeight};_112._offsetStart={H:(_10a&&!ltr)?_114.clientWidth-_112.offsetLeft-_112._offsetSize.H:_112.offsetLeft,V:_112.offsetTop};_112._clientSize={H:_112._clientWidth||_112.clientWidth,V:_112._clientHeight||_112.clientHeight};if(_112!=body&&_112!=html&&_112!=node){for(var dir in _112._offsetSize){var _117=_112._offsetSize[dir]-_112._clientSize[dir]-_112._borderSize[dir];var _118=_112._clientSize[dir]>0&&_117>0;if(_118){_112._offsetSize[dir]-=_117;if(dojo.isIE&&rtl&&dir=="H"){_112._offsetStart[dir]+=_117;}}}}};var _119=node;while(_119!=null){if(_10e(_119)){node.scrollIntoView(false);return;}_111(_119);_119=_119._parent;}if(dojo.isIE&&node._parent){var _11a=node._offsetParent;node._offsetStart.H+=_11a._borderStart.H;node._offsetStart.V+=_11a._borderStart.V;}if(dojo.isIE>=7&&_10d==html&&rtl&&body._offsetStart&&body._offsetStart.H==0){var _11b=html.scrollWidth-html._offsetSize.H;if(_11b>0){body._offsetStart.H=-_11b;}}if(dojo.isIE<=6&&!_10b){html._offsetSize.H+=html._borderSize.H;html._offsetSize.V+=html._borderSize.V;}if(rtl&&body._offsetStart&&_10d==html&&html._scrolledAmount){var ofs=body._offsetStart.H;if(ofs<0){html._scrolledAmount.H+=ofs;body._offsetStart.H=0;}}_119=node;while(_119){var _11d=_119._parent;if(!_11d){break;}if(_11d.tagName=="TD"){var _11e=_11d._parent._parent._parent;if(_11d!=_119._offsetParent&&_11d._offsetParent!=_119._offsetParent){_11d=_11e;}}var _11f=_119._offsetParent==_11d;for(var dir in _119._offsetStart){var _121=dir=="H"?"V":"H";if(rtl&&dir=="H"&&(_11d!=html)&&(_11d!=body)&&(dojo.isIE||dojo.isWebKit)&&_11d._clientSize.H>0&&_11d.scrollWidth>_11d._clientSize.H){var _122=_11d.scrollWidth-_11d._clientSize.H;if(_122>0){_11d._scrolledAmount.H-=_122;}}if(_11d._offsetParent.tagName=="TABLE"){if(dojo.isIE){_11d._offsetStart[dir]-=_11d._offsetParent._borderStart[dir];_11d._borderStart[dir]=_11d._borderSize[dir]=0;}else{_11d._offsetStart[dir]+=_11d._offsetParent._borderStart[dir];}}if(dojo.isIE){_11d._offsetStart[dir]+=_11d._offsetParent._borderStart[dir];}var _123=_119._offsetStart[dir]-_11d._scrolledAmount[dir]-(_11f?0:_11d._offsetStart[dir])-_11d._borderStart[dir];var _124=_123+_119._offsetSize[dir]-_11d._offsetSize[dir]+_11d._borderSize[dir];var _125=(dir=="H")?"scrollLeft":"scrollTop";var _126=dir=="H"&&rtl;var _127=_126?-_124:_123;var _128=_126?-_123:_124;var _129=(_127*_128<=0)?0:Math[(_127<0)?"max":"min"](_127,_128);if(_129!=0){var _12a=_11d[_125];_11d[_125]+=(_126)?-_129:_129;var _12b=_11d[_125]-_12a;}if(_11f){_119._offsetStart[dir]+=_11d._offsetStart[dir];}_119._offsetStart[dir]-=_11d[_125];}_119._parent=_11d._parent;_119._offsetParent=_11d._offsetParent;}_11d=node;var next;while(_11d&&_11d.removeAttribute){next=_11d.parentNode;_11d.removeAttribute("_offsetParent");_11d.removeAttribute("_parent");_11d=next;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}};}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");(function(){var d=dojo,html=d.doc.documentElement,ie=d.isIE,_130=d.isOpera,maj=Math.floor,ff=d.isFF,_133=d.boxModel.replace(/-/,""),_134={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_iequirks:ie&&d.isQuirks,dj_opera:_130,dj_opera8:maj(_130)==8,dj_opera9:maj(_130)==9,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_gecko:d.isMozilla,dj_ff2:maj(ff)==2,dj_ff3:maj(ff)==3};_134["dj_"+_133]=true;for(var p in _134){if(_134[p]){if(html.className){html.className+=" "+p;}else{html.className=p;}}}dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){html.className+=" dijitRtl";for(var p in _134){if(_134[p]){html.className+=" "+p+"-rtl";}}}});})();}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=(this._currentTimeout<0)?this._initialDelay:((this._subsequentDelay>1)?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay));this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_138,node,_13a,obj,_13c,_13d){if(obj!=this._obj){this.stop();this._initialDelay=_13d||500;this._subsequentDelay=_13c||0.9;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_138,_13a);this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_13f,_140,_141,_142,_143){if(_13f.keyCode){_13f.charOrCode=_13f.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_13f.charCode){_13f.charOrCode=String.fromCharCode(_13f.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_13f.charOrCode&&(_13f.ctrlKey===undefined||_13f.ctrlKey==evt.ctrlKey)&&(_13f.altKey===undefined||_13f.altKey==evt.ctrlKey)&&(_13f.shiftKey===undefined||_13f.shiftKey==evt.ctrlKey)){dojo.stopEvent(evt);dijit.typematic.trigger(_13f,_140,node,_141,_13f,_142,_143);}else{if(dijit.typematic._obj==_13f){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_13f){dijit.typematic.stop();}})];},addMouseListener:function(node,_147,_148,_149,_14a){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_147,node,_148,node,_149,_14a);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){dojo.stopEvent(evt);}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_147,node,_148,node,_149,_14a);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_151,_152,_153,_154,_155,_156,_157){return this.addKeyListener(_152,_153,_154,_155,_156,_157).concat(this.addMouseListener(_151,_154,_155,_156,_157));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _15a=cs.backgroundImage;var _15b=(cs.borderTopColor==cs.borderRightColor)||(_15a!=null&&(_15a=="none"||_15a=="url(invalid-url:)"));dojo[_15b?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{_XhtmlRoles:/banner|contentinfo|definition|main|navigation|search|note|secondary|seealso/,hasWaiRole:function(elem,role){var _15e=this.getWaiRole(elem);return role?(_15e.indexOf(role)>-1):(_15e.length>0);},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace(this._XhtmlRoles,"").replace("wairole:",""));},setWaiRole:function(elem,role){var _162=dojo.attr(elem,"role")||"";if(dojo.isFF<3||!this._XhtmlRoles.test(_162)){dojo.attr(elem,"role",dojo.isFF<3?"wairole:"+role:role);}else{if((" "+_162+" ").indexOf(" "+role+" ")<0){var _163=dojo.trim(_162.replace(this._XhtmlRoles,""));var _164=dojo.trim(_162.replace(_163,""));dojo.attr(elem,"role",_164+(_164?" ":"")+role);}}},removeWaiRole:function(elem,role){var _167=dojo.attr(elem,"role");if(!_167){return;}if(role){var _168=dojo.isFF<3?"wairole:"+role:role;var t=dojo.trim((" "+_167+" ").replace(" "+_168+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_16b){if(dojo.isFF<3){return elem.hasAttributeNS("http://www.w3.org/2005/07/aaa",_16b);}return elem.hasAttribute?elem.hasAttribute("aria-"+_16b):!!elem.getAttribute("aria-"+_16b);},getWaiState:function(elem,_16d){if(dojo.isFF<3){return elem.getAttributeNS("http://www.w3.org/2005/07/aaa",_16d);}return elem.getAttribute("aria-"+_16d)||"";},setWaiState:function(elem,_16f,_170){if(dojo.isFF<3){elem.setAttributeNS("http://www.w3.org/2005/07/aaa","aaa:"+_16f,_170);}else{elem.setAttribute("aria-"+_16f,_170);}},removeWaiState:function(elem,_172){if(dojo.isFF<3){elem.removeAttributeNS("http://www.w3.org/2005/07/aaa",_172);}else{elem.removeAttribute("aria-"+_172);}}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.require("dijit._base");dojo.connect(dojo,"connect",function(_173,_174){if(_173&&dojo.isFunction(_173._onConnect)){_173._onConnect(_174);}});dijit._connectOnUseEventHandler=function(_175){};(function(){var _176={};var _177=function(dc){if(!_176[dc]){var r=[];var _17a;var _17b=dojo.getObject(dc).prototype;for(var _17c in _17b){if(dojo.isFunction(_17b[_17c])&&(_17a=_17c.match(/^_set([a-zA-Z]*)Attr$/))&&_17a[1]){r.push(_17a[1].charAt(0).toLowerCase()+_17a[1].substr(1));}}_176[dc]=r;}return _176[dc]||[];};dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")),postscript:function(_17d,_17e){this.create(_17d,_17e);},create:function(_17f,_180){this.srcNodeRef=dojo.byId(_180);this._connects=[];this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_17f){this.params=_17f;dojo.mixin(this,_17f);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _182=this.srcNodeRef;if(_182&&_182.parentNode){_182.parentNode.replaceChild(this.domNode,_182);}for(attr in this.params){this._onConnect(attr);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _183=function(attr,_185){if((_185.params&&attr in _185.params)||_185[attr]){_185.attr(attr,_185[attr]);}};for(var attr in this.attributeMap){_183(attr,this);}dojo.forEach(_177(this.declaredClass),function(a){if(!(a in this.attributeMap)){_183(a,this);}},this);},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef||dojo.create("div");},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_188){this.destroyDescendants(_188);this.destroy(_188);},destroy:function(_189){this.uninitialize();dojo.forEach(this._connects,function(_18a){dojo.forEach(_18a,dojo.disconnect);});dojo.forEach(this._supportingWidgets||[],function(w){if(w.destroy){w.destroy();}});this.destroyRendering(_189);dijit.registry.remove(this.id);},destroyRendering:function(_18c){if(this.bgIframe){this.bgIframe.destroy(_18c);delete this.bgIframe;}if(this.domNode){if(_18c){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_18c){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_18d){dojo.forEach(this.getChildren(),function(_18e){if(_18e.destroyRecursive){_18e.destroyRecursive(_18d);}});},uninitialize:function(){return false;},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},_onConnect:function(_190){if(_190 in this._deferredConnects){var _191=this[this._deferredConnects[_190]||"domNode"];this.connect(_191,_190.toLowerCase(),_190);delete this._deferredConnects[_190];}},_setClassAttr:function(_192){var _193=this[this.attributeMap["class"]||"domNode"];dojo.removeClass(_193,this["class"]);this["class"]=_192;dojo.addClass(_193,_192);},_setStyleAttr:function(_194){var _195=this[this.attributeMap["style"]||"domNode"];if(dojo.isObject(_194)){dojo.style(_195,_194);}else{if(_195.style.cssText){_195.style.cssText+="; "+_194;}else{_195.style.cssText=_194;}}this["style"]=_194;},setAttribute:function(attr,_197){dojo.deprecated(this.declaredClass+"::setAttribute() is deprecated. Use attr() instead.","","2.0");this.attr(attr,_197);},_attrToDom:function(attr,_199){var _19a=this.attributeMap[attr];dojo.forEach(dojo.isArray(_19a)?_19a:[_19a],function(_19b){var _19c=this[_19b.node||_19b||"domNode"];var type=_19b.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_199)){_199=dojo.hitch(this,_199);}if(/^on[A-Z][a-zA-Z]*$/.test(attr)){attr=attr.toLowerCase();}dojo.attr(_19c,attr,_199);break;case "innerHTML":_19c.innerHTML=_199;break;case "class":dojo.removeClass(_19c,this[attr]);dojo.addClass(_19c,_199);break;}},this);this[attr]=_199;},attr:function(name,_19f){var args=arguments.length;if(args==1&&!dojo.isString(name)){for(var x in name){this.attr(x,name[x]);}return this;}var _1a2=this._getAttrNames(name);if(args==2){if(this[_1a2.s]){return this[_1a2.s](_19f)||this;}else{if(name in this.attributeMap){this._attrToDom(name,_19f);}this[name]=_19f;}return this;}else{if(this[_1a2.g]){return this[_1a2.g]();}else{return this[name];}}},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"};},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){if(this.containerNode){var list=dojo.query("[widgetId]",this.containerNode);return list.map(dijit.byNode);}else{return [];}},getChildren:function(){if(this.containerNode){return dijit.findWidgets(this.containerNode);}else{return [];}},nodesWithKeyClick:["input","button"],connect:function(obj,_1a8,_1a9){var d=dojo;var dc=dojo.connect;var _1ac=[];if(_1a8=="ondijitclick"){if(!this.nodesWithKeyClick[obj.nodeName]){var m=d.hitch(this,_1a9);_1ac.push(dc(obj,"onkeydown",this,function(e){if(!d.isFF&&e.keyCode==d.keys.ENTER&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){return m(e);}else{if(e.keyCode==d.keys.SPACE){d.stopEvent(e);}}}),dc(obj,"onkeyup",this,function(e){if(e.keyCode==d.keys.SPACE&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){return m(e);}}));if(d.isFF){_1ac.push(dc(obj,"onkeypress",this,function(e){if(e.keyCode==d.keys.ENTER&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){return m(e);}}));}}_1a8="onclick";}_1ac.push(dc(obj,_1a8,this,_1a9));this._connects.push(_1ac);return _1ac;},disconnect:function(_1b1){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_1b1){dojo.forEach(_1b1,dojo.disconnect);this._connects.splice(i,1);return;}}},isLeftToRight:function(){return dojo._isBodyLtr();},isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},placeAt:function(_1b3,_1b4){if(_1b3["declaredClass"]&&_1b3["addChild"]){_1b3.addChild(this,_1b4);}else{dojo.place(this.domNode,_1b3,_1b4);}return this;}});})();}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_stringRepl:function(tmpl){var _1b6=this.declaredClass,_1b7=this;return dojo.string.substitute(tmpl,this,function(_1b8,key){if(key.charAt(0)=="!"){_1b8=dojo.getObject(key.substr(1),_1b7);}if(typeof _1b8=="undefined"){throw new Error(_1b6+" template:"+key);}if(_1b8==null){return "";}return key.charAt(0)=="!"?_1b8:_1b8.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _1ba=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_1ba)){node=dojo._toDom(this._stringRepl(_1ba));}else{node=_1ba.cloneNode(true);}this.domNode=node;this._attachTemplateNodes(node);if(this.widgetsInTemplate){var cw=(this._supportingWidgets=dojo.parser.parse(node));this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_1bf){var dest=this.containerNode;if(_1bf&&dest){while(_1bf.hasChildNodes()){dest.appendChild(_1bf.firstChild);}}},_attachTemplateNodes:function(_1c1,_1c2){_1c2=_1c2||function(n,p){return n.getAttribute(p);};var _1c5=dojo.isArray(_1c1)?_1c1:(_1c1.all||_1c1.getElementsByTagName("*"));var x=dojo.isArray(_1c1)?0:-1;for(;x<_1c5.length;x++){var _1c7=(x==-1)?_1c1:_1c5[x];if(this.widgetsInTemplate&&_1c2(_1c7,"dojoType")){continue;}var _1c8=_1c2(_1c7,"dojoAttachPoint");if(_1c8){var _1c9,_1ca=_1c8.split(/\s*,\s*/);while((_1c9=_1ca.shift())){if(dojo.isArray(this[_1c9])){this[_1c9].push(_1c7);}else{this[_1c9]=_1c7;}}}var _1cb=_1c2(_1c7,"dojoAttachEvent");if(_1cb){var _1cc,_1cd=_1cb.split(/\s*,\s*/);var trim=dojo.trim;while((_1cc=_1cd.shift())){if(_1cc){var _1cf=null;if(_1cc.indexOf(":")!=-1){var _1d0=_1cc.split(":");_1cc=trim(_1d0[0]);_1cf=trim(_1d0[1]);}else{_1cc=trim(_1cc);}if(!_1cf){_1cf=_1cc;}this.connect(_1c7,_1cc,_1cf);}}}var role=_1c2(_1c7,"waiRole");if(role){dijit.setWaiRole(_1c7,role);}var _1d2=_1c2(_1c7,"waiState");if(_1d2){dojo.forEach(_1d2.split(/\s*,\s*/),function(_1d3){if(_1d3.indexOf("-")!=-1){var pair=_1d3.split("-");dijit.setWaiState(_1c7,pair[0],pair[1]);}});}}}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_1d5,_1d6,_1d7){var _1d8=dijit._Templated._templateCache;var key=_1d6||_1d5;var _1da=_1d8[key];if(_1da){if(!_1da.ownerDocument||_1da.ownerDocument==dojo.doc){return _1da;}dojo.destroy(_1da);}if(!_1d6){_1d6=dijit._Templated._sanitizeTemplateString(dojo.trim(dojo._getText(_1d5)));}_1d6=dojo.string.trim(_1d6);if(_1d7||_1d6.match(/\$\{([^\}]+)\}/g)){return (_1d8[key]=_1d6);}else{return (_1d8[key]=dojo._toDom(_1d6));}};dijit._Templated._sanitizeTemplateString=function(_1db){if(_1db){_1db=_1db.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _1dc=_1db.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_1dc){_1db=_1dc[1];}}else{_1db="";}return _1db;};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _1dd=dijit._Templated._templateCache;for(var key in _1dd){var _1df=_1dd[key];if(!isNaN(_1df.nodeType)){dojo.destroy(_1df);}delete _1dd[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dojox.image.SlideShow"]){dojo._hasResource["dojox.image.SlideShow"]=true;dojo.provide("dojox.image.SlideShow");dojo.declare("dojox.image.SlideShow",[dijit._Widget,dijit._Templated],{imageHeight:375,imageWidth:500,title:"",titleTemplate:"${title} <span class=\"slideShowCounterText\">(${current} of ${total})</span>",noLink:false,loop:true,hasNav:true,images:[],pageSize:20,autoLoad:true,autoStart:false,fixedHeight:false,imageStore:null,linkAttr:"link",imageLargeAttr:"imageUrl",titleAttr:"title",slideshowInterval:3,templateString:"<div dojoAttachPoint=\"outerNode\" class=\"slideShowWrapper\">\n\t<div style=\"position:relative;\" dojoAttachPoint=\"innerWrapper\">\n\t\t<div class=\"slideShowNav\" dojoAttachEvent=\"onclick: _handleClick\">\n\t\t\t<div class=\"dijitInline slideShowTitle\" dojoAttachPoint=\"titleNode\">${title}</div>\n\t\t</div>\n\t\t<div dojoAttachPoint=\"navNode\" class=\"slideShowCtrl\" dojoAttachEvent=\"onclick: _handleClick\">\n\t\t\t<span dojoAttachPoint=\"navPrev\" class=\"slideShowCtrlPrev\"></span>\n\t\t\t<span dojoAttachPoint=\"navPlay\" class=\"slideShowCtrlPlay\"></span>\n\t\t\t<span dojoAttachPoint=\"navNext\" class=\"slideShowCtrlNext\"></span>\n\t\t</div>\n\t\t<div dojoAttachPoint=\"largeNode\" class=\"slideShowImageWrapper\"></div>\t\t\n\t\t<div dojoAttachPoint=\"hiddenNode\" class=\"slideShowHidden\"></div>\n\t</div>\n</div>\n",_imageCounter:0,_tmpImage:null,_request:null,postCreate:function(){this.inherited(arguments);var img=document.createElement("img");img.setAttribute("width",this.imageWidth);img.setAttribute("height",this.imageHeight);if(this.hasNav){dojo.connect(this.outerNode,"onmouseover",this,function(evt){try{this._showNav();}catch(e){}});dojo.connect(this.outerNode,"onmouseout",this,function(evt){try{this._hideNav(evt);}catch(e){}});}this.outerNode.style.width=this.imageWidth+"px";img.setAttribute("src",this._blankGif);var _1e3=this;this.largeNode.appendChild(img);this._tmpImage=this._currentImage=img;this._fitSize(true);this._loadImage(0,dojo.hitch(this,"showImage",0));this._calcNavDimensions();},setDataStore:function(_1e4,_1e5,_1e6){this.reset();var _1e7=this;this._request={query:{},start:_1e5.start||0,count:_1e5.count||this.pageSize,onBegin:function(_1e8,_1e9){_1e7.maxPhotos=_1e8;}};if(_1e5.query){dojo.mixin(this._request.query,_1e5.query);}if(_1e6){dojo.forEach(["imageLargeAttr","linkAttr","titleAttr"],function(_1ea){if(_1e6[_1ea]){this[_1ea]=_1e6[_1ea];}},this);}var _1eb=function(_1ec){_1e7.maxPhotos=_1ec.length;_1e7.showImage(0);_1e7._request.onComplete=null;if(_1e7.autoStart){_1e7.toggleSlideShow();}};this.imageStore=_1e4;this._request.onComplete=_1eb;this._request.start=0;this.imageStore.fetch(this._request);},reset:function(){while(this.largeNode.firstChild){this.largeNode.removeChild(this.largeNode.firstChild);}this.largeNode.appendChild(this._tmpImage);while(this.hiddenNode.firstChild){this.hiddenNode.removeChild(this.hiddenNode.firstChild);}dojo.forEach(this.images,function(img){if(img&&img.parentNode){img.parentNode.removeChild(img);}});this.images=[];this.isInitialized=false;this._imageCounter=0;},isImageLoaded:function(_1ee){return this.images&&this.images.length>_1ee&&this.images[_1ee];},moveImageLoadingPointer:function(_1ef){this._imageCounter=_1ef;},destroy:function(){if(this._slideId){this._stop();}this.inherited(arguments);},showNextImage:function(_1f0,_1f1){if(_1f0&&this._timerCancelled){return false;}if(this.imageIndex+1>=this.maxPhotos){if(_1f0&&(this.loop||_1f1)){this.imageIndex=-1;}else{if(this._slideId){this._stop();}return false;}}this.showImage(this.imageIndex+1,dojo.hitch(this,function(){if(_1f0){this._startTimer();}}));return true;},toggleSlideShow:function(){if(this._slideId){this._stop();}else{dojo.toggleClass(this.domNode,"slideShowPaused");this._timerCancelled=false;if(this.images[this.imageIndex]&&this.images[this.imageIndex]._img.complete){var _1f2=this.showNextImage(true,true);if(!_1f2){this._stop();}}else{var idx=this.imageIndex;var _1f4=dojo.subscribe(this.getShowTopicName(),dojo.hitch(this,function(info){setTimeout(dojo.hitch(this,function(){if(info.index==idx){var _1f6=this.showNextImage(true,true);if(!_1f6){this._stop();}dojo.unsubscribe(_1f4);}}),this.slideshowInterval*1000);}));dojo.publish(this.getShowTopicName(),[{index:idx,title:"",url:""}]);}}},getShowTopicName:function(){return (this.widgetId||this.id)+"/imageShow";},getLoadTopicName:function(){return (this.widgetId?this.widgetId:this.id)+"/imageLoad";},showImage:function(_1f7,_1f8){if(!_1f8&&this._slideId){this.toggleSlideShow();}var _1f9=this;var _1fa=this.largeNode.getElementsByTagName("div");this.imageIndex=_1f7;var _1fb=function(){if(_1f9.images[_1f7]){while(_1f9.largeNode.firstChild){_1f9.largeNode.removeChild(_1f9.largeNode.firstChild);}dojo.style(_1f9.images[_1f7],"opacity",0);_1f9.largeNode.appendChild(_1f9.images[_1f7]);_1f9._currentImage=_1f9.images[_1f7]._img;_1f9._fitSize();var _1fc=function(a,b,c){var img=_1f9.images[_1f7].firstChild;if(img.tagName.toLowerCase()!="img"){img=img.firstChild;}var _201=img.getAttribute("title")||"";if(_1f9._navShowing){_1f9._showNav(true);}dojo.publish(_1f9.getShowTopicName(),[{index:_1f7,title:_201,url:img.getAttribute("src")}]);if(_1f8){_1f8(a,b,c);}_1f9._setTitle(_201);};dojo.fadeIn({node:_1f9.images[_1f7],duration:300,onEnd:_1fc}).play();}else{_1f9._loadImage(_1f7,function(){dojo.publish(_1f9.getLoadTopicName(),[_1f7]);_1f9.showImage(_1f7,_1f8);});}};if(_1fa&&_1fa.length>0){dojo.fadeOut({node:_1fa[0],duration:300,onEnd:function(){_1f9.hiddenNode.appendChild(_1fa[0]);_1fb();}}).play();}else{_1fb();}},_fitSize:function(_202){if(!this.fixedHeight||_202){var _203=(this._currentImage.height+(this.hasNav?20:0));dojo.style(this.innerWrapper,"height",_203+"px");return;}dojo.style(this.largeNode,"paddingTop",this._getTopPadding()+"px");},_getTopPadding:function(){if(!this.fixedHeight){return 0;}return (this.imageHeight-this._currentImage.height)/2;},_loadNextImage:function(){if(!this.autoLoad){return;}while(this.images.length>=this._imageCounter&&this.images[this._imageCounter]){this._imageCounter++;}this._loadImage(this._imageCounter);},_loadImage:function(_204,_205){if(this.images[_204]||!this._request){return;}var _206=_204-(_204%this.pageSize);this._request.start=_206;this._request.onComplete=function(_207){var diff=_204-_206;if(_207&&_207.length>diff){_209(_207[diff]);}else{}};var _20a=this;var _209=function(item){var url=_20a.imageStore.getValue(item,_20a.imageLargeAttr);var img=new Image();var div=document.createElement("div");div._img=img;var link=_20a.imageStore.getValue(item,_20a.linkAttr);if(!link||_20a.noLink){div.appendChild(img);}else{var a=document.createElement("a");a.setAttribute("href",link);a.setAttribute("target","_blank");div.appendChild(a);a.appendChild(img);}div.setAttribute("id",_20a.id+"_imageDiv"+_204);dojo.connect(img,"onload",function(){_20a._fitImage(img);div.setAttribute("width",_20a.imageWidth);div.setAttribute("height",_20a.imageHeight);dojo.publish(_20a.getLoadTopicName(),[_204]);setTimeout(_20a._loadNextImage,1);if(_205){_205();}});_20a.hiddenNode.appendChild(div);var _211=document.createElement("div");dojo.addClass(_211,"slideShowTitle");div.appendChild(_211);_20a.images[_204]=div;img.setAttribute("src",url);var _212=_20a.imageStore.getValue(item,_20a.titleAttr);if(_212){img.setAttribute("title",_212);}};this.imageStore.fetch(this._request);},_stop:function(){if(this._slideId){clearTimeout(this._slideId);}this._slideId=null;this._timerCancelled=true;dojo.removeClass(this.domNode,"slideShowPaused");},_prev:function(){if(this.imageIndex<1){return;}this.showImage(this.imageIndex-1);},_next:function(){this.showNextImage();},_startTimer:function(){var id=this.id;this._slideId=setTimeout(function(){dijit.byId(id).showNextImage(true);},this.slideshowInterval*1000);},_calcNavDimensions:function(){dojo.style(this.navNode,"position","absolute");dojo.style(this.navNode,"top","-10000px");dojo._setOpacity(this.navNode,99);this.navPlay._size=dojo.marginBox(this.navPlay);this.navPrev._size=dojo.marginBox(this.navPrev);this.navNext._size=dojo.marginBox(this.navNext);dojo._setOpacity(this.navNode,0);dojo.style(this.navNode,"position","");dojo.style(this.navNode,"top","");},_setTitle:function(_214){this.titleNode.innerHTML=dojo.string.substitute(this.titleTemplate,{title:_214,current:1+this.imageIndex,total:this.maxPhotos||""});},_fitImage:function(img){var _216=img.width;var _217=img.height;if(_216>this.imageWidth){_217=Math.floor(_217*(this.imageWidth/_216));img.height=_217;img.width=_216=this.imageWidth;}if(_217>this.imageHeight){_216=Math.floor(_216*(this.imageHeight/_217));img.height=this.imageHeight;img.width=_216;}},_handleClick:function(e){switch(e.target){case this.navNext:this._next();break;case this.navPrev:this._prev();break;case this.navPlay:this.toggleSlideShow();break;}},_showNav:function(_219){if(this._navShowing&&!_219){return;}dojo.style(this.navNode,"marginTop","0px");dojo.style(this.navPlay,"marginLeft","0px");var _21a=dojo.marginBox(this.outerNode);var _21b=this._currentImage.height-this.navPlay._size.h-10+this._getTopPadding();if(_21b>this._currentImage.height){_21b+=10;}dojo[this.imageIndex<1?"addClass":"removeClass"](this.navPrev,"slideShowCtrlHide");dojo[this.imageIndex+1>=this.maxPhotos?"addClass":"removeClass"](this.navNext,"slideShowCtrlHide");var _21c=this;if(this._navAnim){this._navAnim.stop();}if(this._navShowing){return;}this._navAnim=dojo.fadeIn({node:this.navNode,duration:300,onEnd:function(){_21c._navAnim=null;}});this._navAnim.play();this._navShowing=true;},_hideNav:function(e){if(!e||!this._overElement(this.outerNode,e)){var _21e=this;if(this._navAnim){this._navAnim.stop();}this._navAnim=dojo.fadeOut({node:this.navNode,duration:300,onEnd:function(){_21e._navAnim=null;}});this._navAnim.play();this._navShowing=false;}},_overElement:function(_21f,e){if(typeof (dojo)=="undefined"){return false;}_21f=dojo.byId(_21f);var m={x:e.pageX,y:e.pageY};var bb=dojo._getBorderBox(_21f);var absl=dojo.coords(_21f,true);var left=absl.x;return (m.x>=left&&m.x<=(left+bb.w)&&m.y>=absl.y&&m.y<=(top+bb.h));}});}if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.data.util.filter.patternToRegExp=function(_225,_226){var rxp="^";var c=null;for(var i=0;i<_225.length;i++){c=_225.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_225.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_226){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.data.util.sorter.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};dojo.data.util.sorter.createSortFunction=function(_22d,_22e){var _22f=[];function _230(attr,dir){return function(_233,_234){var a=_22e.getValue(_233,attr);var b=_22e.getValue(_234,attr);var _237=null;if(_22e.comparatorMap){if(typeof attr!=="string"){attr=_22e.getIdentity(attr);}_237=_22e.comparatorMap[attr]||dojo.data.util.sorter.basicComparator;}_237=_237||dojo.data.util.sorter.basicComparator;return dir*_237(a,b);};};var _238;for(var i=0;i<_22d.length;i++){_238=_22d[i];if(_238.attribute){var _23a=(_238.descending)?-1:1;_22f.push(_230(_238.attribute,_23a));}}return function(rowA,rowB){var i=0;while(i<_22f.length){var ret=_22f[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.data.util.simpleFetch.fetch=function(_23f){_23f=_23f||{};if(!_23f.store){_23f.store=this;}var self=this;var _241=function(_242,_243){if(_243.onError){var _244=_243.scope||dojo.global;_243.onError.call(_244,_242,_243);}};var _245=function(_246,_247){var _248=_247.abort||null;var _249=false;var _24a=_247.start?_247.start:0;var _24b=(_247.count&&(_247.count!==Infinity))?(_24a+_247.count):_246.length;_247.abort=function(){_249=true;if(_248){_248.call(_247);}};var _24c=_247.scope||dojo.global;if(!_247.store){_247.store=self;}if(_247.onBegin){_247.onBegin.call(_24c,_246.length,_247);}if(_247.sort){_246.sort(dojo.data.util.sorter.createSortFunction(_247.sort,self));}if(_247.onItem){for(var i=_24a;(i<_246.length)&&(i<_24b);++i){var item=_246[i];if(!_249){_247.onItem.call(_24c,item,_247);}}}if(_247.onComplete&&!_249){var _24f=null;if(!_247.onItem){_24f=_246.slice(_24a,_24b);}_247.onComplete.call(_24c,_24f,_247);}};this._fetchItems(_23f,_245,_241);return _23f;};}if(!dojo._hasResource["dojo.data.ItemFileReadStore"]){dojo._hasResource["dojo.data.ItemFileReadStore"]=true;dojo.provide("dojo.data.ItemFileReadStore");dojo.declare("dojo.data.ItemFileReadStore",null,{constructor:function(_250){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_250.url;this._jsonData=_250.data;this._datatypeMap=_250.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_251){return dojo.date.stamp.fromISOString(_251);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_250.urlPreventCache!==undefined){this.urlPreventCache=_250.urlPreventCache?true:false;}if(_250.clearOnClose){this.clearOnClose=true;}},url:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojo.data.ItemFileReadStore: Invalid item argument.");}},_assertIsAttribute:function(_253){if(typeof _253!=="string"){throw new Error("dojo.data.ItemFileReadStore: Invalid attribute argument.");}},getValue:function(item,_255,_256){var _257=this.getValues(item,_255);return (_257.length>0)?_257[0]:_256;},getValues:function(item,_259){this._assertIsItem(item);this._assertIsAttribute(_259);return item[_259]||[];},getAttributes:function(item){this._assertIsItem(item);var _25b=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_25b.push(key);}}return _25b;},hasAttribute:function(item,_25e){return this.getValues(item,_25e).length>0;},containsValue:function(item,_260,_261){var _262=undefined;if(typeof _261==="string"){_262=dojo.data.util.filter.patternToRegExp(_261,false);}return this._containsValue(item,_260,_261,_262);},_containsValue:function(item,_264,_265,_266){return dojo.some(this.getValues(item,_264),function(_267){if(_267!==null&&!dojo.isObject(_267)&&_266){if(_267.toString().match(_266)){return true;}}else{if(_265===_267){return true;}}});},isItem:function(_268){if(_268&&_268[this._storeRefPropName]===this){if(this._arrayOfAllItems[_268[this._itemNumPropName]]===_268){return true;}}return false;},isItemLoaded:function(_269){return this.isItem(_269);},loadItem:function(_26a){this._assertIsItem(_26a.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},_fetchItems:function(_26d,_26e,_26f){var self=this;var _271=function(_272,_273){var _274=[];var i,key;if(_272.query){var _277;var _278=_272.queryOptions?_272.queryOptions.ignoreCase:false;var _279={};for(key in _272.query){_277=_272.query[key];if(typeof _277==="string"){_279[key]=dojo.data.util.filter.patternToRegExp(_277,_278);}}for(i=0;i<_273.length;++i){var _27a=true;var _27b=_273[i];if(_27b===null){_27a=false;}else{for(key in _272.query){_277=_272.query[key];if(!self._containsValue(_27b,key,_277,_279[key])){_27a=false;}}}if(_27a){_274.push(_27b);}}_26e(_274,_272);}else{for(i=0;i<_273.length;++i){var item=_273[i];if(item!==null){_274.push(item);}}_26e(_274,_272);}};if(this._loadFinished){_271(_26d,this._getItemsArray(_26d.queryOptions));}else{if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_26d,filter:_271});}else{this._loadInProgress=true;var _27d={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache};var _27e=dojo.xhrGet(_27d);_27e.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;_271(_26d,self._getItemsArray(_26d.queryOptions));self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_26f(e,_26d);}});_27e.addErrback(function(_280){self._loadInProgress=false;_26f(_280,_26d);});var _281=null;if(_26d.abort){_281=_26d.abort;}_26d.abort=function(){var df=_27e;if(df&&df.fired===-1){df.cancel();df=null;}if(_281){_281.call(_26d);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_271(_26d,this._getItemsArray(_26d.queryOptions));}catch(e){_26f(e,_26d);}}else{_26f(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_26d);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _284=this._queuedFetches[i];var _285=_284.args;var _286=_284.filter;if(_286){_286(_285,this._getItemsArray(_285.queryOptions));}else{this.fetchItemByIdentity(_285);}}this._queuedFetches=[];}},_getItemsArray:function(_287){if(_287&&_287.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_288){if(this.clearOnClose&&(this._jsonFileUrl!=="")){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_289){var _28a=false;function _28b(_28c){var _28d=((_28c!==null)&&(typeof _28c==="object")&&(!dojo.isArray(_28c)||_28a)&&(!dojo.isFunction(_28c))&&(_28c.constructor==Object||dojo.isArray(_28c))&&(typeof _28c._reference==="undefined")&&(typeof _28c._type==="undefined")&&(typeof _28c._value==="undefined"));return _28d;};var self=this;function _28f(_290){self._arrayOfAllItems.push(_290);for(var _291 in _290){var _292=_290[_291];if(_292){if(dojo.isArray(_292)){var _293=_292;for(var k=0;k<_293.length;++k){var _295=_293[k];if(_28b(_295)){_28f(_295);}}}else{if(_28b(_292)){_28f(_292);}}}}};this._labelAttr=_289.label;var i;var item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_289.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];if(dojo.isArray(item)){_28a=true;}_28f(item);item[this._rootItemPropName]=true;}var _298={};var key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _29a=item[key];if(_29a!==null){if(!dojo.isArray(_29a)){item[key]=[_29a];}}else{item[key]=[null];}}_298[key]=key;}}while(_298[this._storeRefPropName]){this._storeRefPropName+="_";}while(_298[this._itemNumPropName]){this._itemNumPropName+="_";}while(_298[this._reverseRefMap]){this._reverseRefMap+="_";}var _29b;var _29c=_289.identifier;if(_29c){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_29c;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_29b=item[_29c];var _29d=_29b[0];if(!this._itemsByIdentity[_29d]){this._itemsByIdentity[_29d]=item;}else{if(this._jsonFileUrl){throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_29c+"].  Value collided: ["+_29d+"]");}else{if(this._jsonData){throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_29c+"].  Value collided: ["+_29d+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_29b=item[key];for(var j=0;j<_29b.length;++j){_29a=_29b[j];if(_29a!==null&&typeof _29a=="object"){if(_29a._type&&_29a._value){var type=_29a._type;var _2a0=this._datatypeMap[type];if(!_2a0){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(dojo.isFunction(_2a0)){_29b[j]=new _2a0(_29a._value);}else{if(dojo.isFunction(_2a0.deserialize)){_29b[j]=_2a0.deserialize(_29a._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_29a._reference){var _2a1=_29a._reference;if(!dojo.isObject(_2a1)){_29b[j]=this._itemsByIdentity[_2a1];}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _2a3=this._arrayOfAllItems[k];var _2a4=true;for(var _2a5 in _2a1){if(_2a3[_2a5]!=_2a1[_2a5]){_2a4=false;}}if(_2a4){_29b[j]=_2a3;}}}if(this.referenceIntegrity){var _2a6=_29b[j];if(this.isItem(_2a6)){this._addReferenceToMap(_2a6,item,key);}}}else{if(this.isItem(_29a)){if(this.referenceIntegrity){this._addReferenceToMap(_29a,item,key);}}}}}}}},_addReferenceToMap:function(_2a7,_2a8,_2a9){},getIdentity:function(item){var _2ab=this._features["dojo.data.api.Identity"];if(_2ab===Number){return item[this._itemNumPropName];}else{var _2ac=item[_2ab];if(_2ac){return _2ac[0];}}return null;},fetchItemByIdentity:function(_2ad){var item;var _2af;if(!this._loadFinished){var self=this;if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_2ad});}else{this._loadInProgress=true;var _2b1={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache};var _2b2=dojo.xhrGet(_2b1);_2b2.addCallback(function(data){var _2b4=_2ad.scope?_2ad.scope:dojo.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;item=self._getItemByIdentity(_2ad.identity);if(_2ad.onItem){_2ad.onItem.call(_2b4,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_2ad.onError){_2ad.onError.call(_2b4,error);}}});_2b2.addErrback(function(_2b5){self._loadInProgress=false;if(_2ad.onError){var _2b6=_2ad.scope?_2ad.scope:dojo.global;_2ad.onError.call(_2b6,_2b5);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;item=self._getItemByIdentity(_2ad.identity);if(_2ad.onItem){_2af=_2ad.scope?_2ad.scope:dojo.global;_2ad.onItem.call(_2af,item);}}}}else{item=this._getItemByIdentity(_2ad.identity);if(_2ad.onItem){_2af=_2ad.scope?_2ad.scope:dojo.global;_2ad.onItem.call(_2af,item);}}},_getItemByIdentity:function(_2b7){var item=null;if(this._itemsByIdentity){item=this._itemsByIdentity[_2b7];}else{item=this._arrayOfAllItems[_2b7];}if(item===undefined){item=null;}return item;},getIdentityAttributes:function(item){var _2ba=this._features["dojo.data.api.Identity"];if(_2ba===Number){return null;}else{return [_2ba];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl){var _2bc={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,sync:true};var _2bd=dojo.xhrGet(_2bc);_2bd.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}else{if(self._loadInProgress){throw new Error("dojo.data.ItemFileReadStore:  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){console.log(e);throw e;}});_2bd.addErrback(function(_2bf){throw _2bf;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});dojo.extend(dojo.data.ItemFileReadStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["lucidsite.overview._base"]){dojo._hasResource["lucidsite.overview._base"]=true;dojo.provide("lucidsite.overview._base");dojo.addOnLoad(function(){var req={query:{imageUrl:"*"}};dijit.byId("gallery").setDataStore(galleryStore,req);});}if(!dojo._hasResource["lucidsite.overview"]){dojo._hasResource["lucidsite.overview"]=true;dojo.provide("lucidsite.overview");}
